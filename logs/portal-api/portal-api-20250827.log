[2025-08-27 07:41:50.452 +00:00 [WRN] Microsoft.AspNetCore.Server.Kestrel: As of ""2025-08-27T07:41:41.4756579+00:00"", the heartbeat has been running for ""00:15:17.4153099"" which is longer than ""00:00:01"". This could be caused by thread pool starvation.
[2025-08-27 07:51:32.265 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/api/agents - null null
[2025-08-27 07:51:32.391 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/api/agents - 404 0 null 127.4834ms
[2025-08-27 07:51:32.438 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/api/agents, Response status code: 404
[2025-08-27 07:51:39.135 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/api/agents - null null
[2025-08-27 07:51:39.142 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/api/agents - 404 0 null 7.3331ms
[2025-08-27 07:51:39.150 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/api/agents, Response status code: 404
[2025-08-27 07:54:55.893 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 54
[2025-08-27 07:54:55.919 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 07:54:55.981 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 07:54:56.879 +00:00 [WRN] RdpRelay.Portal.Api.Controllers.AuthController: Failed login attempt for admin@rdprelay.local from ::ffff:192.168.65.1
[2025-08-27 07:54:56.893 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 07:54:56.902 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 895.5433ms
[2025-08-27 07:54:56.903 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 07:54:56.904 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 401 null application/json; charset=utf-8 1011.3915ms
[2025-08-27 08:27:30.445 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 69
[2025-08-27 08:27:30.476 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 08:27:30.491 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 08:27:30.758 +00:00 [WRN] RdpRelay.Portal.Api.Controllers.AuthController: Failed login attempt for admin@rdprelay.local from ::ffff:192.168.65.1
[2025-08-27 08:27:30.762 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 08:27:30.764 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 270.6628ms
[2025-08-27 08:27:30.764 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 08:27:30.765 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 401 null application/json; charset=utf-8 323.5598ms
[2025-08-27 08:29:39.035 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 08:29:47.554 +00:00 [INF] : Starting Portal API
[2025-08-27 08:29:47.776 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 08:29:47.786 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 08:29:48.021 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 08:29:48.433 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 08:29:48.435 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 08:29:48.436 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 08:29:48.437 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 08:30:06.199 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 69
[2025-08-27 08:30:06.336 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 08:30:06.460 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 08:30:06.586 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 08:30:08.013 +00:00 [WRN] RdpRelay.Portal.Api.Controllers.AuthController: Failed login attempt for admin@rdprelay.local from ::ffff:192.168.65.1
[2025-08-27 08:30:08.025 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 08:30:08.060 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 1461.0902ms
[2025-08-27 08:30:08.082 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 08:30:08.088 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 401 null application/json; charset=utf-8 1893.8447ms
[2025-08-27 08:30:44.431 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 69
[2025-08-27 08:30:44.444 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 08:30:44.446 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 08:30:44.747 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: User admin@rdprelay.local authenticated successfully
[2025-08-27 08:30:45.144 +00:00 [INF] RdpRelay.Portal.Api.Controllers.AuthController: User 68ae09d3096d59594289b03e logged in successfully
[2025-08-27 08:30:45.148 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.LoginResponse'.
[2025-08-27 08:30:45.196 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 747.6467ms
[2025-08-27 08:30:45.197 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 08:30:45.198 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 200 null application/json; charset=utf-8 767.4867ms
[2025-08-27 08:30:55.535 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/agents - null null
[2025-08-27 08:30:55.652 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 08:30:55.672 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 08:30:55.732 +00:00 [ERR] RdpRelay.Portal.Api.Controllers.AgentsController: Error retrieving agents for tenant 68ae09d3096d59594289b03d
System.FormatException: An error occurred while deserializing the Settings property of class RdpRelay.Portal.Api.Models.Tenant: Element 'maxSessions' does not match any field or property of class RdpRelay.Portal.Api.Models.TenantSettings.
 ---> System.FormatException: Element 'maxSessions' does not match any field or property of class RdpRelay.Portal.Api.Models.TenantSettings.
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.FirstOrDefaultAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at RdpRelay.Portal.Api.Services.TenantService.GetTenantAsync(String tenantId) in /src/portal-api/RdpRelay.Portal.Api/Services/TenantService.cs:line 45
   at RdpRelay.Portal.Api.Services.TenantService.ValidateTenantAccessAsync(ClaimsPrincipal user, String tenantId) in /src/portal-api/RdpRelay.Portal.Api/Services/TenantService.cs:line 130
   at RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents(String tenantId, String groupId, Nullable`1 status, String search, Int32 skip, Int32 limit) in /src/portal-api/RdpRelay.Portal.Api/Controllers/AgentsController.cs:line 36
[2025-08-27 08:30:55.775 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 08:30:55.776 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 103.0981ms
[2025-08-27 08:30:55.777 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 08:30:55.779 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/agents - 500 null application/json; charset=utf-8 244.273ms
[2025-08-27 08:49:32.280 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/health - null null
[2025-08-27 08:49:32.303 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/health - 404 0 null 27.2657ms
[2025-08-27 08:49:32.308 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/health, Response status code: 404
[2025-08-27 08:49:43.487 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/sessions - null null
[2025-08-27 08:49:43.521 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 08:49:43.550 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 08:49:43.561 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 9.4711ms
[2025-08-27 08:49:43.562 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 08:49:43.569 +00:00 [ERR] Microsoft.AspNetCore.Server.Kestrel: Connection id "0HNF58FMIRHCQ", Request id "0HNF58FMIRHCQ:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Unable to resolve service for type 'RdpRelay.Portal.Api.Services.JwtService' while attempting to activate 'RdpRelay.Portal.Api.Services.SessionService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method45(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-08-27 08:49:43.601 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/sessions - 500 0 null 113.8914ms
[2025-08-27 08:50:24.510 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/api/auth/me - null null
[2025-08-27 08:50:24.520 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.GetCurrentUser (RdpRelay.Portal.Api)'
[2025-08-27 08:50:24.529 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.UserInfo]] GetCurrentUser() on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 08:50:24.648 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.UserInfo'.
[2025-08-27 08:50:24.653 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.GetCurrentUser (RdpRelay.Portal.Api) in 123.3975ms
[2025-08-27 08:50:24.654 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.GetCurrentUser (RdpRelay.Portal.Api)'
[2025-08-27 08:50:24.655 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/api/auth/me - 200 null application/json; charset=utf-8 145.084ms
[2025-08-27 08:57:49.026 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 08:57:54.131 +00:00 [INF] : Starting Portal API
[2025-08-27 08:57:54.251 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 08:57:54.254 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 08:57:54.313 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 08:57:54.444 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 08:57:54.444 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 08:57:54.445 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 08:57:54.446 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 08:58:17.832 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 69
[2025-08-27 08:58:17.887 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 08:58:17.971 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 08:58:18.045 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 08:58:18.735 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: User admin@rdprelay.local authenticated successfully
[2025-08-27 08:58:18.882 +00:00 [INF] RdpRelay.Portal.Api.Controllers.AuthController: User 68ae09d3096d59594289b03e logged in successfully
[2025-08-27 08:58:18.895 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.LoginResponse'.
[2025-08-27 08:58:18.956 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 900.1459ms
[2025-08-27 08:58:18.981 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 08:58:18.992 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 200 null application/json; charset=utf-8 1161.6296ms
[2025-08-27 08:58:39.681 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/agents - null null
[2025-08-27 08:58:39.765 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 08:58:39.780 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 08:58:39.827 +00:00 [ERR] RdpRelay.Portal.Api.Controllers.AgentsController: Error retrieving agents for tenant 68ae09d3096d59594289b03d
System.FormatException: An error occurred while deserializing the Settings property of class RdpRelay.Portal.Api.Models.Tenant: Element 'maxSessions' does not match any field or property of class RdpRelay.Portal.Api.Models.TenantSettings.
 ---> System.FormatException: Element 'maxSessions' does not match any field or property of class RdpRelay.Portal.Api.Models.TenantSettings.
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.FirstOrDefaultAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at RdpRelay.Portal.Api.Services.TenantService.GetTenantAsync(String tenantId) in /src/portal-api/RdpRelay.Portal.Api/Services/TenantService.cs:line 45
   at RdpRelay.Portal.Api.Services.TenantService.ValidateTenantAccessAsync(ClaimsPrincipal user, String tenantId) in /src/portal-api/RdpRelay.Portal.Api/Services/TenantService.cs:line 130
   at RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents(String tenantId, String groupId, Nullable`1 status, String search, Int32 skip, Int32 limit) in /src/portal-api/RdpRelay.Portal.Api/Controllers/AgentsController.cs:line 36
[2025-08-27 08:58:39.847 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 08:58:39.860 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 79.0591ms
[2025-08-27 08:58:39.862 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 08:58:39.864 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/agents - 500 null application/json; charset=utf-8 184.1078ms
[2025-08-27 09:02:49.416 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/agents - null null
[2025-08-27 09:02:49.491 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:02:49.496 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:02:49.560 +00:00 [ERR] RdpRelay.Portal.Api.Controllers.AgentsController: Error retrieving agents for tenant 68ae09d3096d59594289b03d
System.FormatException: An error occurred while deserializing the Settings property of class RdpRelay.Portal.Api.Models.Tenant: Element 'maxSessions' does not match any field or property of class RdpRelay.Portal.Api.Models.TenantSettings.
 ---> System.FormatException: Element 'maxSessions' does not match any field or property of class RdpRelay.Portal.Api.Models.TenantSettings.
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeClass(BsonDeserializationContext context)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize[TValue](IBsonSerializer`1 serializer, BsonDeserializationContext context)
   at MongoDB.Driver.Core.Operations.CursorBatchDeserializationHelper.DeserializeBatch[TDocument](RawBsonArray batch, IBsonSerializer`1 documentSerializer, MessageEncoderSettings messageEncoderSettings)
   at MongoDB.Driver.Core.Operations.FindOperation`1.CreateFirstCursorBatch(BsonDocument cursorDocument)
   at MongoDB.Driver.Core.Operations.FindOperation`1.CreateCursor(IChannelSourceHandle channelSource, IChannelHandle channel, BsonDocument commandResult)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(RetryableReadContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.FindOperation`1.ExecuteAsync(IReadBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteReadOperationAsync[TResult](IReadBinding binding, IReadOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteReadOperationAsync[TResult](IClientSessionHandle session, IReadOperation`1 operation, ReadPreference readPreference, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorSourceExtensions.FirstOrDefaultAsync[TDocument](IAsyncCursorSource`1 source, CancellationToken cancellationToken)
   at RdpRelay.Portal.Api.Services.TenantService.GetTenantAsync(String tenantId) in /src/portal-api/RdpRelay.Portal.Api/Services/TenantService.cs:line 45
   at RdpRelay.Portal.Api.Services.TenantService.ValidateTenantAccessAsync(ClaimsPrincipal user, String tenantId) in /src/portal-api/RdpRelay.Portal.Api/Services/TenantService.cs:line 130
   at RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents(String tenantId, String groupId, Nullable`1 status, String search, Int32 skip, Int32 limit) in /src/portal-api/RdpRelay.Portal.Api/Controllers/AgentsController.cs:line 36
[2025-08-27 09:02:49.579 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 09:02:49.583 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 86.7907ms
[2025-08-27 09:02:49.584 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:02:49.585 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/agents - 500 null application/json; charset=utf-8 172.655ms
[2025-08-27 09:03:56.050 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/agents - null null
[2025-08-27 09:03:56.059 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:03:56.060 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:03:56.160 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:03:56.206 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 145.5006ms
[2025-08-27 09:03:56.208 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:03:56.209 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/agents - 200 null application/json; charset=utf-8 158.272ms
[2025-08-27 09:04:21.742 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 OPTIONS http://localhost/api/auth/login - null null
[2025-08-27 09:04:21.757 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:04:21.769 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 OPTIONS http://localhost/api/auth/login - 204 null null 26.5923ms
[2025-08-27 09:04:21.786 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/login - application/json 53
[2025-08-27 09:04:21.794 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:04:21.827 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:04:21.835 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 09:04:21.885 +00:00 [WRN] RdpRelay.Portal.Api.Controllers.AuthController: Failed login attempt for test@company.com from ::ffff:172.18.0.7
[2025-08-27 09:04:21.890 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 09:04:21.899 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 60.6867ms
[2025-08-27 09:04:21.899 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:04:21.900 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/login - 401 null application/json; charset=utf-8 114.0036ms
[2025-08-27 09:04:30.655 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=100 - null null
[2025-08-27 09:04:30.659 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/sessions?page=1&pageSize=100 - null null
[2025-08-27 09:04:30.697 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:04:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 09:04:30.698 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:04:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 09:04:31.201 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:04:30'.
[2025-08-27 09:04:31.200 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:04:30'.
[2025-08-27 09:04:31.202 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=100 - 404 0 null 546.5957ms
[2025-08-27 09:04:31.204 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/sessions?page=1&pageSize=100 - 404 0 null 545.498ms
[2025-08-27 09:04:31.207 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/sessions, Response status code: 404
[2025-08-27 09:04:31.207 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/agents, Response status code: 404
[2025-08-27 09:04:36.089 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=100 - null null
[2025-08-27 09:04:36.094 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:04:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 09:04:36.100 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:04:36'.
[2025-08-27 09:04:36.102 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=100 - 404 0 null 13.1872ms
[2025-08-27 09:04:36.103 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/agents, Response status code: 404
[2025-08-27 09:04:40.735 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/agents - application/json 15
[2025-08-27 09:04:40.737 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:04:40.739 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:04:40'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 09:04:40.740 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:04:40'.
[2025-08-27 09:04:40.741 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/agents - 404 0 null 5.9815ms
[2025-08-27 09:04:40.743 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost/api/agents, Response status code: 404
[2025-08-27 09:04:45.334 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=100 - null null
[2025-08-27 09:04:45.338 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:04:45'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 09:04:45.341 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:04:45'.
[2025-08-27 09:04:45.343 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=100 - 404 0 null 8.122ms
[2025-08-27 09:04:45.344 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/agents, Response status code: 404
[2025-08-27 09:04:51.878 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/agents - application/json 15
[2025-08-27 09:04:51.882 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:04:51.886 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:04:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 09:04:51.897 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:04:51'.
[2025-08-27 09:04:51.900 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/agents - 404 0 null 21.5425ms
[2025-08-27 09:04:51.910 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost/api/agents, Response status code: 404
[2025-08-27 09:05:03.429 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/sessions - null null
[2025-08-27 09:05:03.431 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:05:03.442 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 09:05:03.445 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 2.4806ms
[2025-08-27 09:05:03.446 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:05:03.448 +00:00 [ERR] Microsoft.AspNetCore.Server.Kestrel: Connection id "0HNF58VENOEOS", Request id "0HNF58VENOEOS:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Unable to resolve service for type 'RdpRelay.Portal.Api.Services.JwtService' while attempting to activate 'RdpRelay.Portal.Api.Services.SessionService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method53(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
[2025-08-27 09:05:03.457 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/sessions - 500 0 null 27.3359ms
[2025-08-27 09:06:56.062 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=10 - null null
[2025-08-27 09:06:56.062 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/sessions?page=1&pageSize=10 - null null
[2025-08-27 09:06:56.062 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/users?page=1&pageSize=10 - null null
[2025-08-27 09:06:56.067 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:06:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 09:06:56.067 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:06:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 09:06:56.067 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:06:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 09:06:56.075 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:06:56'.
[2025-08-27 09:06:56.078 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:06:56'.
[2025-08-27 09:06:56.082 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 05:41:23', Current time (UTC): '08/27/2025 09:06:56'.
[2025-08-27 09:06:56.087 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=10 - 404 0 null 25.5515ms
[2025-08-27 09:06:56.090 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/agents, Response status code: 404
[2025-08-27 09:06:56.084 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/sessions?page=1&pageSize=10 - 404 0 null 21.5927ms
[2025-08-27 09:06:56.083 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/users?page=1&pageSize=10 - 404 0 null 20.3396ms
[2025-08-27 09:06:56.095 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/sessions, Response status code: 404
[2025-08-27 09:06:56.095 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/users, Response status code: 404
[2025-08-27 09:07:00.532 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/login - application/json 47
[2025-08-27 09:07:00.534 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:07:00.540 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:07:00.541 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 09:07:00.794 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: User test@test.com authenticated successfully
[2025-08-27 09:07:00.823 +00:00 [INF] RdpRelay.Portal.Api.Controllers.AuthController: User 68ae16a34a4bd0ff3c89b03d logged in successfully
[2025-08-27 09:07:00.824 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.LoginResponse'.
[2025-08-27 09:07:00.827 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 284.8111ms
[2025-08-27 09:07:00.828 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:07:00.829 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/login - 200 null application/json; charset=utf-8 296.4202ms
[2025-08-27 09:07:00.909 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=10 - null null
[2025-08-27 09:07:00.916 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/sessions?page=1&pageSize=10 - null null
[2025-08-27 09:07:00.916 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=10 - 404 0 null 16.1089ms
[2025-08-27 09:07:00.920 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/agents, Response status code: 404
[2025-08-27 09:07:00.920 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/sessions?page=1&pageSize=10 - 404 0 null 3.9491ms
[2025-08-27 09:07:00.919 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/users?page=1&pageSize=10 - null null
[2025-08-27 09:07:00.922 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/sessions, Response status code: 404
[2025-08-27 09:07:00.924 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/users?page=1&pageSize=10 - 404 0 null 4.8817ms
[2025-08-27 09:07:00.934 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/users, Response status code: 404
[2025-08-27 09:07:04.548 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=100 - null null
[2025-08-27 09:07:04.551 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=100 - 404 0 null 2.5389ms
[2025-08-27 09:07:04.552 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/agents, Response status code: 404
[2025-08-27 09:07:11.000 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/agents/provisioning-token - null 0
[2025-08-27 09:07:11.001 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:07:11.004 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/agents/provisioning-token - 404 0 null 4.0968ms
[2025-08-27 09:07:11.119 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost/api/agents/provisioning-token, Response status code: 404
[2025-08-27 09:07:25.706 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/agents - application/json 15
[2025-08-27 09:07:25.707 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:07:25.710 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/agents - 404 0 null 4.6489ms
[2025-08-27 09:07:25.711 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost/api/agents, Response status code: 404
[2025-08-27 09:07:30.485 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/users?page=1&pageSize=100 - null null
[2025-08-27 09:07:30.486 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/users?page=1&pageSize=100 - 404 0 null 1.8541ms
[2025-08-27 09:07:30.488 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/users, Response status code: 404
[2025-08-27 09:07:34.072 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/users?page=1&pageSize=100 - null null
[2025-08-27 09:07:34.102 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/users?page=1&pageSize=100 - 404 0 null 29.3398ms
[2025-08-27 09:07:34.103 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/users, Response status code: 404
[2025-08-27 09:09:05.309 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 OPTIONS http://localhost/api/auth/login - null null
[2025-08-27 09:09:05.310 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:09:05.311 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 OPTIONS http://localhost/api/auth/login - 204 null null 2.1658ms
[2025-08-27 09:09:05.317 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/login - application/json 54
[2025-08-27 09:09:05.317 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:09:05.318 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:09:05.319 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 09:09:05.462 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: User admin@rdprelay.local authenticated successfully
[2025-08-27 09:09:05.468 +00:00 [INF] RdpRelay.Portal.Api.Controllers.AuthController: User 68ae09d3096d59594289b03e logged in successfully
[2025-08-27 09:09:05.469 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.LoginResponse'.
[2025-08-27 09:09:05.470 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 150.2958ms
[2025-08-27 09:09:05.470 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:09:05.471 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/login - 200 null application/json; charset=utf-8 153.9792ms
[2025-08-27 09:09:05.563 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=10 - null null
[2025-08-27 09:09:05.564 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:09:05.567 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=10 - 404 0 null 3.4864ms
[2025-08-27 09:09:05.569 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/agents, Response status code: 404
[2025-08-27 09:09:05.570 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/sessions?page=1&pageSize=10 - null null
[2025-08-27 09:09:05.570 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/users?page=1&pageSize=10 - null null
[2025-08-27 09:09:05.572 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:09:05.572 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:09:05.574 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/sessions?page=1&pageSize=10 - 404 0 null 3.4252ms
[2025-08-27 09:09:05.578 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/users?page=1&pageSize=10 - 404 0 null 8.6905ms
[2025-08-27 09:09:05.582 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/users, Response status code: 404
[2025-08-27 09:09:05.578 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/sessions, Response status code: 404
[2025-08-27 09:09:12.384 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=100 - null null
[2025-08-27 09:09:12.385 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:09:12.387 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=100 - 404 0 null 3.0608ms
[2025-08-27 09:09:12.388 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/agents, Response status code: 404
[2025-08-27 09:09:14.159 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/agents/provisioning-token - null 0
[2025-08-27 09:09:14.160 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:09:14.162 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/agents/provisioning-token - 404 0 null 2.9328ms
[2025-08-27 09:09:14.163 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost/api/agents/provisioning-token, Response status code: 404
[2025-08-27 09:09:19.488 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/agents - application/json 15
[2025-08-27 09:09:19.488 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:09:19.493 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/agents - 404 0 null 5.2284ms
[2025-08-27 09:09:19.495 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost/api/agents, Response status code: 404
[2025-08-27 09:09:23.192 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/agents - application/json 15
[2025-08-27 09:09:23.193 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:09:23.195 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/agents - 404 0 null 3.2966ms
[2025-08-27 09:09:23.196 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost/api/agents, Response status code: 404
[2025-08-27 09:09:28.921 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/sessions?page=1&pageSize=100 - null null
[2025-08-27 09:09:28.921 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=100 - null null
[2025-08-27 09:09:28.922 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:09:28.924 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:09:28.925 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/sessions?page=1&pageSize=100 - 404 0 null 3.6424ms
[2025-08-27 09:09:28.926 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/agents?page=1&pageSize=100 - 404 0 null 4.4906ms
[2025-08-27 09:09:28.926 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/sessions, Response status code: 404
[2025-08-27 09:09:28.927 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/agents, Response status code: 404
[2025-08-27 09:09:35.026 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/users?page=1&pageSize=100 - null null
[2025-08-27 09:09:35.027 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:09:35.028 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/users?page=1&pageSize=100 - 404 0 null 1.9771ms
[2025-08-27 09:09:35.029 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/users, Response status code: 404
[2025-08-27 09:16:12.212 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 09:16:23.870 +00:00 [INF] : Starting Portal API
[2025-08-27 09:16:24.034 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 09:16:24.039 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 09:16:24.063 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Creating key {de7ed242-29bb-44ff-b4ef-7a6a8863d71f} with creation date 2025-08-27 09:16:24Z, activation date 2025-08-27 09:16:24Z, and expiration date 2025-11-25 09:16:24Z.
[2025-08-27 09:16:24.081 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: No XML encryptor configured. Key {de7ed242-29bb-44ff-b4ef-7a6a8863d71f} may be persisted to storage in unencrypted form.
[2025-08-27 09:16:24.092 +00:00 [INF] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Writing data to file '/home/appuser/.aspnet/DataProtection-Keys/key-de7ed242-29bb-44ff-b4ef-7a6a8863d71f.xml'.
[2025-08-27 09:16:24.117 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 09:16:24.253 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 09:16:24.255 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 09:16:24.256 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 09:16:24.257 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 09:18:23.439 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/api/tenants/66cc2e7823e7bc22c9eef7e5/users - application/json null
[2025-08-27 09:18:23.501 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 09:18:23.587 +00:00 [INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SystemAdmin|TenantAdmin)
[2025-08-27 09:18:23.596 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was challenged.
[2025-08-27 09:18:23.604 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/api/tenants/66cc2e7823e7bc22c9eef7e5/users - 401 0 null 171.5991ms
[2025-08-27 09:19:14.614 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 09:19:14.614 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 09:19:14.865 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:19:14.866 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:19:14.966 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:19:14.966 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 09:19:15.474 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:19:15.487 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:19:15.592 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 616.1293ms
[2025-08-27 09:19:15.594 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:19:15.600 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 987.2561ms
[2025-08-27 09:19:15.600 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 631.2121ms
[2025-08-27 09:19:15.604 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:19:15.608 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 993.0037ms
[2025-08-27 09:19:18.977 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 54
[2025-08-27 09:19:18.982 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:19:18.994 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 09:19:19.531 +00:00 [WRN] RdpRelay.Portal.Api.Controllers.AuthController: Failed login attempt for admin@rdprelay.local from ::ffff:192.168.65.1
[2025-08-27 09:19:19.532 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 09:19:19.542 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 547.041ms
[2025-08-27 09:19:19.543 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:19:19.544 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 401 null application/json; charset=utf-8 567.103ms
[2025-08-27 09:19:21.528 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 09:19:21.541 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:19:21.543 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:19:21.557 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:19:21.559 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 15.2859ms
[2025-08-27 09:19:21.559 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:19:21.560 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 32.6089ms
[2025-08-27 09:19:23.858 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - null 0
[2025-08-27 09:19:23.870 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:19:23.909 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '405 HTTP Method Not Supported'
[2025-08-27 09:19:23.910 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '405 HTTP Method Not Supported'
[2025-08-27 09:19:23.913 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - 405 0 null 54.5523ms
[2025-08-27 09:19:32.628 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 15
[2025-08-27 09:19:32.637 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:19:32.719 +00:00 [INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (TenantAdmin|Operator)
[2025-08-27 09:19:32.743 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was forbidden.
[2025-08-27 09:19:32.748 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 403 0 null 116.6524ms
[2025-08-27 09:24:08.180 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 69
[2025-08-27 09:24:08.203 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:24:08.207 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 09:24:08.380 +00:00 [WRN] RdpRelay.Portal.Api.Controllers.AuthController: Failed login attempt for admin@rdprelay.local from ::ffff:192.168.65.1
[2025-08-27 09:24:08.382 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 09:24:08.385 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 175.1024ms
[2025-08-27 09:24:08.386 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:24:08.387 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 401 null application/json; charset=utf-8 209.6584ms
[2025-08-27 09:25:32.047 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 62
[2025-08-27 09:25:32.051 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:25:32.051 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 09:25:32.201 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: User test@test.com authenticated successfully
[2025-08-27 09:25:32.419 +00:00 [INF] RdpRelay.Portal.Api.Controllers.AuthController: User 68ae16a34a4bd0ff3c89b03d logged in successfully
[2025-08-27 09:25:32.421 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.LoginResponse'.
[2025-08-27 09:25:32.456 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 403.9205ms
[2025-08-27 09:25:32.457 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:25:32.457 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 200 null application/json; charset=utf-8 412.0126ms
[2025-08-27 09:25:48.898 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/users - application/json null
[2025-08-27 09:25:48.909 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 09:25:48.953 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.User]]] GetUsers(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.UserRole], System.Nullable`1[System.Boolean], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.UsersController (RdpRelay.Portal.Api).
[2025-08-27 09:25:48.986 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.User, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:25:48.999 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api) in 42.2379ms
[2025-08-27 09:25:49.001 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 09:25:49.002 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/users - 200 null application/json; charset=utf-8 103.7052ms
[2025-08-27 09:26:01.291 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/users - application/json 143
[2025-08-27 09:26:01.296 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.CreateUser (RdpRelay.Portal.Api)'
[2025-08-27 09:26:01.303 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.User]] CreateUser(System.String, RdpRelay.Portal.Api.Models.CreateUserRequest) on controller RdpRelay.Portal.Api.Controllers.UsersController (RdpRelay.Portal.Api).
[2025-08-27 09:26:01.663 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: Created user newuser@test.com with role "TenantAdmin" by 68ae16a34a4bd0ff3c89b03d
[2025-08-27 09:26:01.667 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing CreatedAtActionResult, writing value of type 'RdpRelay.Portal.Api.Models.User'.
[2025-08-27 09:26:01.725 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.UsersController.CreateUser (RdpRelay.Portal.Api) in 421.3641ms
[2025-08-27 09:26:01.726 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.CreateUser (RdpRelay.Portal.Api)'
[2025-08-27 09:26:01.727 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5000/api/tenants/68ae09d3096d59594289b03d/users - 201 null application/json; charset=utf-8 435.7566ms
[2025-08-27 09:44:17.537 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 15
[2025-08-27 09:44:17.588 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:44:17.727 +00:00 [INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (TenantAdmin|Operator)
[2025-08-27 09:44:17.774 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was forbidden.
[2025-08-27 09:44:17.780 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 403 0 null 251.0486ms
[2025-08-27 09:44:22.087 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 09:44:22.096 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:22.112 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:22.518 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:22.530 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 415.286ms
[2025-08-27 09:44:22.532 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:22.533 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 446.2146ms
[2025-08-27 09:44:26.316 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - null 0
[2025-08-27 09:44:26.318 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:44:26.321 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '405 HTTP Method Not Supported'
[2025-08-27 09:44:26.328 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '405 HTTP Method Not Supported'
[2025-08-27 09:44:26.332 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - 405 0 null 16.1114ms
[2025-08-27 09:44:31.945 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - null null
[2025-08-27 09:44:31.947 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - null null
[2025-08-27 09:44:31.955 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:31.950 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:44:31.964 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:31.959 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:31.980 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:31.982 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 13.6946ms
[2025-08-27 09:44:31.983 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:31.984 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - 200 null application/json; charset=utf-8 37.7152ms
[2025-08-27 09:44:32.051 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:32.054 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 87.939ms
[2025-08-27 09:44:32.055 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:44:32.055 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - 200 null application/json; charset=utf-8 109.8239ms
[2025-08-27 09:44:33.068 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 09:44:33.074 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:33.075 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 09:44:33.077 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:33.079 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:44:33.081 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:33.096 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:33.099 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 18.5821ms
[2025-08-27 09:44:33.101 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:33.104 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 35.9067ms
[2025-08-27 09:44:33.101 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:33.107 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 25.5395ms
[2025-08-27 09:44:33.110 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:44:33.111 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 36.0964ms
[2025-08-27 09:44:34.876 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - null null
[2025-08-27 09:44:34.876 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - null null
[2025-08-27 09:44:34.878 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:34.882 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:34.883 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:44:34.884 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:34.893 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:34.893 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:34.897 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 13.9554ms
[2025-08-27 09:44:34.898 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 13.3423ms
[2025-08-27 09:44:34.899 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:34.899 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:44:34.900 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - 200 null application/json; charset=utf-8 23.3734ms
[2025-08-27 09:44:34.900 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - 200 null application/json; charset=utf-8 24.6211ms
[2025-08-27 09:44:36.799 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 09:44:36.804 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 09:44:36.805 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:36.806 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:44:36.817 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:36.815 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:36.836 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:36.836 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:36.842 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 21.1177ms
[2025-08-27 09:44:36.843 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 23.5899ms
[2025-08-27 09:44:36.844 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:36.845 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:44:36.845 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 46.3867ms
[2025-08-27 09:44:36.846 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 42.1367ms
[2025-08-27 09:44:38.790 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 09:44:38.790 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 09:44:38.792 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:44:38.796 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:38.799 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:38.802 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:38.824 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:38.826 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:38.827 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 25.4903ms
[2025-08-27 09:44:38.829 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:44:38.830 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 39.5636ms
[2025-08-27 09:44:38.829 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 26.2747ms
[2025-08-27 09:44:38.832 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:38.833 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 42.5047ms
[2025-08-27 09:44:39.435 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 09:44:39.435 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 09:44:39.442 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:44:39.457 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:39.456 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:39.462 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:39.471 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:39.473 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 14.8908ms
[2025-08-27 09:44:39.474 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:44:39.477 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:39.478 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 43.4417ms
[2025-08-27 09:44:39.480 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 13.0809ms
[2025-08-27 09:44:39.538 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:39.539 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 103.7122ms
[2025-08-27 09:44:40.829 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 09:44:40.832 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:40.835 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:44:40.853 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:44:40.855 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 18.6191ms
[2025-08-27 09:44:40.856 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:44:40.857 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 27.8887ms
[2025-08-27 09:44:46.634 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 15
[2025-08-27 09:44:46.636 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:44:46.641 +00:00 [INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (TenantAdmin|Operator)
[2025-08-27 09:44:46.641 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was forbidden.
[2025-08-27 09:44:46.644 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 403 0 null 10.1292ms
[2025-08-27 09:45:11.505 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 09:45:11.505 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 09:45:11.508 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:45:11.512 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 09:45:11.515 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:45:11.516 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:45:11.528 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:45:11.530 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 16.1234ms
[2025-08-27 09:45:11.530 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:45:11.532 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:45:11.533 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 16.4376ms
[2025-08-27 09:45:11.533 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 27.7872ms
[2025-08-27 09:45:11.534 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:45:11.535 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 29.406ms
[2025-08-27 09:48:25.802 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 63
[2025-08-27 09:48:25.868 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:48:25.930 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 09:48:26.725 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: User test@test.com authenticated successfully
[2025-08-27 09:48:26.802 +00:00 [INF] RdpRelay.Portal.Api.Controllers.AuthController: User 68ae16a34a4bd0ff3c89b03d logged in successfully
[2025-08-27 09:48:26.805 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.LoginResponse'.
[2025-08-27 09:48:26.813 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 880.5644ms
[2025-08-27 09:48:26.814 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 09:48:26.816 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 200 null application/json; charset=utf-8 1017.8833ms
[2025-08-27 09:51:47.044 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 09:51:47.065 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:51:47.066 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:51:47.109 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:51:47.111 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 43.4614ms
[2025-08-27 09:51:47.112 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:51:47.113 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 69.4807ms
[2025-08-27 09:51:58.995 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 15
[2025-08-27 09:51:58.997 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:51:59.001 +00:00 [INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (TenantAdmin|Operator)
[2025-08-27 09:51:59.003 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was forbidden.
[2025-08-27 09:51:59.004 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 403 0 null 9.3632ms
[2025-08-27 09:52:18.870 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 09:52:18.875 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:52:18.878 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 09:52:18.880 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 09:52:18.885 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:52:18.886 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:52:18.898 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:52:18.905 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 26.06ms
[2025-08-27 09:52:18.906 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:52:18.907 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 36.2181ms
[2025-08-27 09:52:18.934 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:52:18.940 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 53.303ms
[2025-08-27 09:52:18.941 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:52:18.942 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 62.139ms
[2025-08-27 09:52:21.159 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 09:52:21.173 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 09:52:21.177 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:52:21.185 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:52:21.193 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 09:52:21.194 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:52:21.204 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:52:21.204 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:52:21.206 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 10.8135ms
[2025-08-27 09:52:21.206 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 09:52:21.207 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 10.8549ms
[2025-08-27 09:52:21.207 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 48.509ms
[2025-08-27 09:52:21.207 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:52:21.209 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 35.6009ms
[2025-08-27 09:52:22.460 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 09:52:22.463 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:52:22.464 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 09:52:22.477 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 09:52:22.479 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 14.1218ms
[2025-08-27 09:52:22.481 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 09:52:22.482 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 21.4532ms
[2025-08-27 09:52:23.625 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - null 0
[2025-08-27 09:52:23.626 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:52:23.627 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '405 HTTP Method Not Supported'
[2025-08-27 09:52:23.628 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '405 HTTP Method Not Supported'
[2025-08-27 09:52:23.630 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - 405 0 null 4.304ms
[2025-08-27 09:52:42.081 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 09:52:46.124 +00:00 [INF] : Starting Portal API
[2025-08-27 09:52:46.229 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 09:52:46.233 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 09:52:46.302 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 09:52:46.450 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 09:52:46.451 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 09:52:46.451 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 09:52:46.452 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 09:53:07.072 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 15
[2025-08-27 09:53:07.210 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 09:53:07.259 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:53:07.981 +00:00 [INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (TenantAdmin|Operator)
[2025-08-27 09:53:07.992 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was forbidden.
[2025-08-27 09:53:08.012 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 403 0 null 949.6305ms
[2025-08-27 09:53:53.426 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 09:53:55.962 +00:00 [INF] : Starting Portal API
[2025-08-27 09:53:56.064 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 09:53:56.068 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 09:53:56.101 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 09:53:56.178 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 09:53:56.179 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 09:53:56.180 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 09:53:56.181 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 09:54:04.487 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - null 0
[2025-08-27 09:54:04.530 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 09:54:04.536 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:54:04.665 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '405 HTTP Method Not Supported'
[2025-08-27 09:54:04.666 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '405 HTTP Method Not Supported'
[2025-08-27 09:54:04.673 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - 405 0 null 187.6077ms
[2025-08-27 09:54:11.576 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - null 0
[2025-08-27 09:54:11.581 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:54:11.592 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '405 HTTP Method Not Supported'
[2025-08-27 09:54:11.593 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '405 HTTP Method Not Supported'
[2025-08-27 09:54:11.595 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - 405 0 null 19.2811ms
[2025-08-27 09:54:20.777 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 15
[2025-08-27 09:54:20.790 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:54:20.812 +00:00 [INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (TenantAdmin|Operator)
[2025-08-27 09:54:20.815 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was forbidden.
[2025-08-27 09:54:20.816 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 403 0 null 38.9812ms
[2025-08-27 09:55:50.304 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 15
[2025-08-27 09:55:50.313 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 09:55:50.330 +00:00 [INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (TenantAdmin|Operator)
[2025-08-27 09:55:50.333 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was forbidden.
[2025-08-27 09:55:50.336 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 403 0 null 31.5107ms
[2025-08-27 09:59:42.906 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 09:59:50.121 +00:00 [INF] : Starting Portal API
[2025-08-27 09:59:50.276 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 09:59:50.282 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 09:59:50.534 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 09:59:50.654 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 09:59:50.654 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 09:59:50.655 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 09:59:50.656 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 10:00:16.693 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 15
[2025-08-27 10:00:16.737 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 10:00:16.748 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 10:00:16.915 +00:00 [INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (TenantAdmin|Operator)
[2025-08-27 10:00:16.920 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was forbidden.
[2025-08-27 10:00:16.929 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 403 0 null 240.2649ms
[2025-08-27 10:00:24.481 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - null 0
[2025-08-27 10:00:24.526 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 10:00:24.535 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '405 HTTP Method Not Supported'
[2025-08-27 10:00:24.536 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '405 HTTP Method Not Supported'
[2025-08-27 10:00:24.537 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - 405 0 null 56.7195ms
[2025-08-27 10:00:42.365 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 62
[2025-08-27 10:00:42.370 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 10:00:42.428 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 10:00:43.008 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: User test@test.com authenticated successfully
[2025-08-27 10:00:43.134 +00:00 [INF] RdpRelay.Portal.Api.Controllers.AuthController: User 68ae16a34a4bd0ff3c89b03d logged in successfully
[2025-08-27 10:00:43.143 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.LoginResponse'.
[2025-08-27 10:00:43.177 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 743.4393ms
[2025-08-27 10:00:43.178 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 10:00:43.180 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 200 null application/json; charset=utf-8 815.9237ms
[2025-08-27 10:33:57.213 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 10:34:00.585 +00:00 [INF] : Starting Portal API
[2025-08-27 10:34:00.729 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 10:34:00.735 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 10:34:00.797 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 10:34:00.906 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 10:34:00.908 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 10:34:00.909 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 10:34:00.910 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 10:34:14.614 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5000/api/auth/provisioning-token - application/json null
[2025-08-27 10:34:14.661 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 10:34:14.724 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5000/api/auth/provisioning-token - 404 0 null 110.6315ms
[2025-08-27 10:34:14.776 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5000/api/auth/provisioning-token, Response status code: 404
[2025-08-27 10:34:28.586 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
[2025-08-27 10:34:28.593 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 404 0 null 7.6329ms
[2025-08-27 10:34:28.594 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/swagger/index.html, Response status code: 404
[2025-08-27 10:34:34.995 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5000/ - null null
[2025-08-27 10:34:35.003 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5000/ - 404 0 null 8.3782ms
[2025-08-27 10:34:35.005 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/, Response status code: 404
[2025-08-27 10:34:56.001 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 18:14:18.761 +00:00 [INF] : Starting Portal API
[2025-08-27 18:14:18.897 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 18:14:18.901 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 18:14:18.991 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Creating key {20e26734-cb98-41f1-9498-5fe97a204db7} with creation date 2025-08-27 18:14:18Z, activation date 2025-08-27 18:14:18Z, and expiration date 2025-11-25 18:14:18Z.
[2025-08-27 18:14:19.023 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: No XML encryptor configured. Key {20e26734-cb98-41f1-9498-5fe97a204db7} may be persisted to storage in unencrypted form.
[2025-08-27 18:14:19.039 +00:00 [INF] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Writing data to file '/home/appuser/.aspnet/DataProtection-Keys/key-20e26734-cb98-41f1-9498-5fe97a204db7.xml'.
[2025-08-27 18:14:19.093 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 18:14:19.209 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 18:14:19.211 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 18:14:19.211 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 18:14:19.213 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 18:15:40.261 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - null null
[2025-08-27 18:15:40.259 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - null null
[2025-08-27 18:15:40.261 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - null null
[2025-08-27 18:15:40.316 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 18:15:40.533 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 18:15:40.532 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 18:15:40.533 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 18:15:40.544 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
[2025-08-27 18:15:40.544 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
[2025-08-27 18:15:40.544 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
[2025-08-27 18:15:40.559 +00:00 [INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-08-27 18:15:40.559 +00:00 [INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-08-27 18:15:40.559 +00:00 [INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SystemAdmin|TenantAdmin)
[2025-08-27 18:15:40.573 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was challenged.
[2025-08-27 18:15:40.573 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was challenged.
[2025-08-27 18:15:40.573 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was challenged.
[2025-08-27 18:15:40.586 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - 401 0 null 328.0612ms
[2025-08-27 18:15:40.588 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - 401 0 null 328.0271ms
[2025-08-27 18:15:40.586 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - 401 0 null 328.3964ms
[2025-08-27 18:15:40.650 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/refresh - application/json 107
[2025-08-27 18:15:40.656 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:15:40.663 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 18:15:40.666 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
[2025-08-27 18:15:40.672 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:40.737 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/refresh - application/json 107
[2025-08-27 18:15:40.740 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:15:40.743 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 18:15:40.745 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
[2025-08-27 18:15:40.746 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:40.752 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/refresh - application/json 107
[2025-08-27 18:15:40.753 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:15:40.755 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 18:15:40.758 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
[2025-08-27 18:15:40.759 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:40.765 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.RefreshResponse]] RefreshToken(RdpRelay.Portal.Api.Models.RefreshRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 18:15:40.765 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.RefreshResponse]] RefreshToken(RdpRelay.Portal.Api.Models.RefreshRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 18:15:40.765 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.RefreshResponse]] RefreshToken(RdpRelay.Portal.Api.Models.RefreshRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 18:15:40.899 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 18:15:40.899 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 18:15:40.899 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 18:15:40.928 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api) in 153.5368ms
[2025-08-27 18:15:40.928 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api) in 154.1708ms
[2025-08-27 18:15:40.928 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api) in 155.0431ms
[2025-08-27 18:15:40.928 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:40.929 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:40.931 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/refresh - 401 null application/json; charset=utf-8 193.5724ms
[2025-08-27 18:15:40.930 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:40.931 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/refresh - 401 null application/json; charset=utf-8 280.6221ms
[2025-08-27 18:15:40.934 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/refresh - 401 null application/json; charset=utf-8 181.9691ms
[2025-08-27 18:15:40.966 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/refresh - application/json 107
[2025-08-27 18:15:40.967 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:15:40.975 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 18:15:40.980 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
[2025-08-27 18:15:40.981 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/refresh - application/json 107
[2025-08-27 18:15:40.980 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/refresh - application/json 107
[2025-08-27 18:15:40.983 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:40.984 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:15:40.985 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:15:40.986 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.RefreshResponse]] RefreshToken(RdpRelay.Portal.Api.Models.RefreshRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 18:15:40.987 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 18:15:40.995 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
[2025-08-27 18:15:40.994 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 18:15:40.991 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-08-27 18:15:40.997 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:40.999 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api) in 8.2916ms
[2025-08-27 18:15:41.001 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.RefreshResponse]] RefreshToken(RdpRelay.Portal.Api.Models.RefreshRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 18:15:41.000 +00:00 [INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '08/27/2025 17:07:00', Current time (UTC): '08/27/2025 18:15:40'.
[2025-08-27 18:15:41.005 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:41.004 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 18:15:41.002 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:41.006 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.RefreshResponse]] RefreshToken(RdpRelay.Portal.Api.Models.RefreshRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 18:15:41.007 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api) in 4.3678ms
[2025-08-27 18:15:41.008 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/refresh - 401 null application/json; charset=utf-8 42.5317ms
[2025-08-27 18:15:41.010 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 18:15:41.010 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:41.013 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/refresh - 401 null application/json; charset=utf-8 31.7175ms
[2025-08-27 18:15:41.012 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api) in 2.6162ms
[2025-08-27 18:15:41.017 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.RefreshToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:41.022 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/refresh - 401 null application/json; charset=utf-8 42.06ms
[2025-08-27 18:15:46.363 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/login - application/json 47
[2025-08-27 18:15:46.364 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:15:46.365 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 18:15:46.376 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 18:15:47.209 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: User test@test.com authenticated successfully
[2025-08-27 18:15:47.426 +00:00 [INF] RdpRelay.Portal.Api.Controllers.AuthController: User 68ae16a34a4bd0ff3c89b03d logged in successfully
[2025-08-27 18:15:47.432 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.LoginResponse'.
[2025-08-27 18:15:47.481 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 1103.8986ms
[2025-08-27 18:15:47.485 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 18:15:47.488 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/login - 200 null application/json; charset=utf-8 1125.0089ms
[2025-08-27 18:15:47.598 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - null null
[2025-08-27 18:15:47.598 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - null null
[2025-08-27 18:15:47.599 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - null null
[2025-08-27 18:15:47.635 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:15:47.636 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 18:15:47.635 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:15:47.653 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 18:15:47.658 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:15:47.670 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.User]]] GetUsers(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.UserRole], System.Nullable`1[System.Boolean], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.UsersController (RdpRelay.Portal.Api).
[2025-08-27 18:15:47.817 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:15:47.834 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:15:47.845 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.User, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:15:47.878 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 216.7596ms
[2025-08-27 18:15:47.888 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:15:47.889 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - 200 null application/json; charset=utf-8 290.8794ms
[2025-08-27 18:15:47.902 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 248.7559ms
[2025-08-27 18:15:47.912 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:15:47.913 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - 200 null application/json; charset=utf-8 314.5627ms
[2025-08-27 18:15:47.911 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api) in 240.346ms
[2025-08-27 18:15:47.923 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 18:15:47.924 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - 200 null application/json; charset=utf-8 325.5938ms
[2025-08-27 18:15:50.453 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 18:15:50.453 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 18:15:50.455 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:15:50.455 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:15:50.456 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 18:15:50.457 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:15:50.467 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:15:50.467 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:15:50.468 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 10.7198ms
[2025-08-27 18:15:50.468 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 10.6155ms
[2025-08-27 18:15:50.469 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:15:50.469 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:15:50.470 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 17.3985ms
[2025-08-27 18:15:50.471 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 17.4149ms
[2025-08-27 18:15:51.302 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 18:15:51.305 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:15:51.307 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:15:51.322 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:15:51.324 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 15.3891ms
[2025-08-27 18:15:51.325 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:15:51.326 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 24.3633ms
[2025-08-27 18:15:52.674 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - null 0
[2025-08-27 18:15:52.677 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:15:52.678 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:52.689 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GenerateProvisioningToken", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GenerateProvisioningToken(System.String, RdpRelay.Portal.Api.Models.GenerateProvisioningTokenRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:15:52.692 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2025-08-27 18:15:52.711 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api) in 21.4498ms
[2025-08-27 18:15:52.712 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 18:15:52.713 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - 415 null application/problem+json; charset=utf-8 38.5666ms
[2025-08-27 18:16:02.812 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - null 0
[2025-08-27 18:16:02.817 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:16:02.820 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 18:16:02.830 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GenerateProvisioningToken", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GenerateProvisioningToken(System.String, RdpRelay.Portal.Api.Models.GenerateProvisioningTokenRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:16:02.833 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2025-08-27 18:16:02.835 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api) in 3.0255ms
[2025-08-27 18:16:02.836 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 18:16:02.837 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - 415 null application/problem+json; charset=utf-8 25.2586ms
[2025-08-27 18:23:15.124 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 18:23:17.990 +00:00 [INF] : Starting Portal API
[2025-08-27 18:23:18.083 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 18:23:18.087 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 18:23:18.144 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 18:23:18.227 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 18:23:18.229 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 18:23:18.287 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 18:23:18.291 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 18:23:38.182 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - null 0
[2025-08-27 18:23:38.416 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 18:23:38.455 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:23:38.715 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 18:23:38.784 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GenerateProvisioningToken", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GenerateProvisioningToken(System.String, RdpRelay.Portal.Api.Models.GenerateProvisioningTokenRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:23:38.853 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2025-08-27 18:23:39.006 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api) in 213.3101ms
[2025-08-27 18:23:39.035 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 18:23:39.037 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - 415 null application/problem+json; charset=utf-8 864.989ms
[2025-08-27 18:23:42.855 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 18:23:42.874 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:23:42.900 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:23:43.302 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:23:43.344 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 441.6896ms
[2025-08-27 18:23:43.345 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:23:43.347 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 495.1399ms
[2025-08-27 18:23:46.610 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - null 0
[2025-08-27 18:23:46.618 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:23:46.636 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 18:23:46.637 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GenerateProvisioningToken", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GenerateProvisioningToken(System.String, RdpRelay.Portal.Api.Models.GenerateProvisioningTokenRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:23:46.645 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2025-08-27 18:23:46.649 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api) in 10.6645ms
[2025-08-27 18:23:46.650 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 18:23:46.651 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - 415 null application/problem+json; charset=utf-8 40.3423ms
[2025-08-27 18:24:27.760 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/login - application/json 47
[2025-08-27 18:24:27.770 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:24:27.773 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 18:24:27.783 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 18:24:28.265 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: User test@test.com authenticated successfully
[2025-08-27 18:24:28.383 +00:00 [INF] RdpRelay.Portal.Api.Controllers.AuthController: User 68ae16a34a4bd0ff3c89b03d logged in successfully
[2025-08-27 18:24:28.386 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.LoginResponse'.
[2025-08-27 18:24:28.401 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 617.2689ms
[2025-08-27 18:24:28.402 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 18:24:28.404 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/login - 200 null application/json; charset=utf-8 643.0806ms
[2025-08-27 18:24:28.497 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - null null
[2025-08-27 18:24:28.497 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - null null
[2025-08-27 18:24:28.508 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - null null
[2025-08-27 18:24:28.510 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:24:28.512 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:24:28.517 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 18:24:28.522 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:24:28.544 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 18:24:28.549 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:24:28.550 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 12.2224ms
[2025-08-27 18:24:28.551 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:24:28.551 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.User]]] GetUsers(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.UserRole], System.Nullable`1[System.Boolean], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.UsersController (RdpRelay.Portal.Api).
[2025-08-27 18:24:28.552 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - 200 null application/json; charset=utf-8 54.8793ms
[2025-08-27 18:24:28.575 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:24:28.593 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 48.9833ms
[2025-08-27 18:24:28.594 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:24:28.598 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - 200 null application/json; charset=utf-8 99.1721ms
[2025-08-27 18:24:28.638 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.User, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:24:28.647 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api) in 93.9227ms
[2025-08-27 18:24:28.647 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 18:24:28.648 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - 200 null application/json; charset=utf-8 139.8217ms
[2025-08-27 18:24:34.060 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=100 - null null
[2025-08-27 18:24:34.082 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 18:24:34.083 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.User]]] GetUsers(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.UserRole], System.Nullable`1[System.Boolean], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.UsersController (RdpRelay.Portal.Api).
[2025-08-27 18:24:34.099 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.User, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:24:34.100 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api) in 16.6612ms
[2025-08-27 18:24:34.101 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 18:24:34.101 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=100 - 200 null application/json; charset=utf-8 41.5865ms
[2025-08-27 18:24:38.722 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 18:24:38.724 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 18:24:38.732 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:24:38.752 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 18:24:38.752 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:24:38.754 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:24:38.760 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:24:38.760 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:24:38.762 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 6.7263ms
[2025-08-27 18:24:38.762 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 8.6079ms
[2025-08-27 18:24:38.762 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:24:38.763 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:24:38.764 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 39.7815ms
[2025-08-27 18:24:38.764 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 41.2617ms
[2025-08-27 18:24:39.507 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 18:24:39.522 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:24:39.523 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:24:39.530 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:24:39.531 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 6.498ms
[2025-08-27 18:24:39.532 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:24:39.533 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 25.711ms
[2025-08-27 18:24:40.829 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - null 0
[2025-08-27 18:24:40.830 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:24:40.831 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 18:24:40.836 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GenerateProvisioningToken", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GenerateProvisioningToken(System.String, RdpRelay.Portal.Api.Models.GenerateProvisioningTokenRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:24:40.839 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[2025-08-27 18:24:40.840 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api) in 1.9869ms
[2025-08-27 18:24:40.841 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 18:24:40.842 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - 415 null application/problem+json; charset=utf-8 13.5346ms
[2025-08-27 18:25:15.717 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 18:25:15.719 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 18:25:15.724 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:25:15.725 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:25:15.729 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:25:15.729 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 18:25:15.745 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:25:15.747 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 17.1107ms
[2025-08-27 18:25:15.748 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:25:15.749 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 31.8307ms
[2025-08-27 18:25:15.756 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:25:15.763 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 33.0463ms
[2025-08-27 18:25:15.764 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:25:15.765 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 45.9619ms
[2025-08-27 18:25:19.664 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 18:25:19.666 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:25:19.667 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:25:19.678 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:25:19.679 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 10.0847ms
[2025-08-27 18:25:19.681 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:25:19.682 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 18.8654ms
[2025-08-27 18:25:26.850 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 15
[2025-08-27 18:25:26.852 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:25:26.855 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 18:25:26.871 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:25:26.886 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-08-27 18:25:26.927 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 55.4908ms
[2025-08-27 18:25:26.928 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 18:25:26.928 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 400 null application/problem+json; charset=utf-8 78.3115ms
[2025-08-27 18:26:39.331 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 18:32:37.449 +00:00 [INF] : Starting Portal API
[2025-08-27 18:32:37.575 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 18:32:37.580 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 18:32:37.619 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Creating key {20c9afc9-8b86-44d4-a337-aecc48279eab} with creation date 2025-08-27 18:32:37Z, activation date 2025-08-27 18:32:37Z, and expiration date 2025-11-25 18:32:37Z.
[2025-08-27 18:32:37.635 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: No XML encryptor configured. Key {20c9afc9-8b86-44d4-a337-aecc48279eab} may be persisted to storage in unencrypted form.
[2025-08-27 18:32:37.642 +00:00 [INF] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Writing data to file '/home/appuser/.aspnet/DataProtection-Keys/key-20c9afc9-8b86-44d4-a337-aecc48279eab.xml'.
[2025-08-27 18:32:37.670 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 18:32:37.776 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 18:32:37.777 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 18:32:37.778 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 18:32:37.781 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 18:32:43.936 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 18:32:44.106 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 18:32:44.372 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:32:44.434 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:32:45.208 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:32:45.634 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 1191.0489ms
[2025-08-27 18:32:45.653 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:32:45.659 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 1724.3861ms
[2025-08-27 18:37:30.319 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 18:37:30.386 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:37:30.392 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:37:30.768 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:37:30.913 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 494.1439ms
[2025-08-27 18:37:30.939 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:37:30.955 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 638.8242ms
[2025-08-27 18:37:34.510 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - application/json 16
[2025-08-27 18:37:34.539 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:37:34.562 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 18:37:34.585 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GenerateProvisioningToken", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GenerateProvisioningToken(System.String, RdpRelay.Portal.Api.Models.GenerateProvisioningTokenRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:37:34.676 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 18:37:34.878 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api) in 291.714ms
[2025-08-27 18:37:34.880 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 18:37:34.882 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - 200 null application/json; charset=utf-8 371.2167ms
[2025-08-27 18:37:55.063 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 16
[2025-08-27 18:37:55.072 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:37:55.076 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 18:37:55.109 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:37:55.305 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-08-27 18:37:55.356 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 245.7644ms
[2025-08-27 18:37:55.357 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 18:37:55.359 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 400 null application/problem+json; charset=utf-8 297.3619ms
[2025-08-27 18:42:11.060 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 18:45:07.150 +00:00 [INF] : Starting Portal API
[2025-08-27 18:45:07.289 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 18:45:07.295 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 18:45:07.326 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Creating key {e717b7a6-40f5-48f6-9ab7-8365c681a2ad} with creation date 2025-08-27 18:45:07Z, activation date 2025-08-27 18:45:07Z, and expiration date 2025-11-25 18:45:07Z.
[2025-08-27 18:45:07.339 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: No XML encryptor configured. Key {e717b7a6-40f5-48f6-9ab7-8365c681a2ad} may be persisted to storage in unencrypted form.
[2025-08-27 18:45:07.347 +00:00 [INF] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Writing data to file '/home/appuser/.aspnet/DataProtection-Keys/key-e717b7a6-40f5-48f6-9ab7-8365c681a2ad.xml'.
[2025-08-27 18:45:07.365 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 18:45:07.454 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 18:45:07.455 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 18:45:07.456 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 18:45:07.458 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 18:45:19.675 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/login - application/json 47
[2025-08-27 18:45:19.827 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 18:45:19.846 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:45:20.120 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 18:45:20.292 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 18:45:21.473 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: User test@test.com authenticated successfully
[2025-08-27 18:45:22.100 +00:00 [INF] RdpRelay.Portal.Api.Controllers.AuthController: User 68ae16a34a4bd0ff3c89b03d logged in successfully
[2025-08-27 18:45:22.122 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.LoginResponse'.
[2025-08-27 18:45:22.277 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 1949.6036ms
[2025-08-27 18:45:22.327 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 18:45:22.336 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/login - 200 null application/json; charset=utf-8 2665.2832ms
[2025-08-27 18:45:22.820 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - null null
[2025-08-27 18:45:22.850 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - null null
[2025-08-27 18:45:22.860 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - null null
[2025-08-27 18:45:22.985 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:45:22.986 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:45:22.988 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 18:45:23.014 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:45:23.014 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 18:45:23.015 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.User]]] GetUsers(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.UserRole], System.Nullable`1[System.Boolean], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.UsersController (RdpRelay.Portal.Api).
[2025-08-27 18:45:23.502 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.User, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:45:23.503 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:45:23.514 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:45:23.566 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api) in 548.9597ms
[2025-08-27 18:45:23.592 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 18:45:23.596 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - 200 null application/json; charset=utf-8 745.8023ms
[2025-08-27 18:45:23.606 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 589.5231ms
[2025-08-27 18:45:23.608 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:45:23.609 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - 200 null application/json; charset=utf-8 748.8645ms
[2025-08-27 18:45:23.637 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 620.6964ms
[2025-08-27 18:45:23.641 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:45:23.643 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - 200 null application/json; charset=utf-8 823.5086ms
[2025-08-27 18:45:27.098 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=100 - null null
[2025-08-27 18:45:27.124 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 18:45:27.125 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.User]]] GetUsers(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.UserRole], System.Nullable`1[System.Boolean], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.UsersController (RdpRelay.Portal.Api).
[2025-08-27 18:45:27.139 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.User, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:45:27.141 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api) in 15.1939ms
[2025-08-27 18:45:27.142 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 18:45:27.144 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=100 - 200 null application/json; charset=utf-8 45.391ms
[2025-08-27 18:45:28.708 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 18:45:28.709 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 18:45:28.731 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:45:28.733 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:45:28.733 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:45:28.735 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 18:45:28.762 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:45:28.762 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:45:28.767 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 30.4014ms
[2025-08-27 18:45:28.768 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 29.7963ms
[2025-08-27 18:45:28.769 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:45:28.770 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 18:45:28.772 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 63.2816ms
[2025-08-27 18:45:28.772 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 64.239ms
[2025-08-27 18:45:29.726 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 18:45:29.766 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:45:29.770 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:45:29.837 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:45:29.845 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 73.8813ms
[2025-08-27 18:45:29.854 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:45:29.857 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 130.373ms
[2025-08-27 18:45:34.523 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 16
[2025-08-27 18:45:34.525 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:45:34.529 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 18:45:34.558 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:45:34.591 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-08-27 18:45:34.643 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 84.7159ms
[2025-08-27 18:45:34.644 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 18:45:34.646 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 400 null application/problem+json; charset=utf-8 123.4464ms
[2025-08-27 18:57:29.880 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 18:57:36.830 +00:00 [INF] : Starting Portal API
[2025-08-27 18:57:37.194 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 18:57:37.204 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 18:57:37.455 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 18:57:37.999 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 18:57:38.027 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 18:57:38.072 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 18:57:38.075 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 18:57:41.785 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 16
[2025-08-27 18:57:41.974 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 18:57:41.993 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:57:42.543 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 18:57:42.806 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:57:43.109 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-08-27 18:57:43.264 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 385.7135ms
[2025-08-27 18:57:43.296 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 18:57:43.300 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 400 null application/problem+json; charset=utf-8 1527.4017ms
[2025-08-27 18:57:49.541 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 18:57:49.558 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:57:49.582 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:57:50.374 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 18:57:50.457 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 873.3451ms
[2025-08-27 18:57:50.464 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 18:57:50.472 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 932.7077ms
[2025-08-27 18:57:58.481 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 16
[2025-08-27 18:57:58.498 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:57:58.523 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 18:57:58.526 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:57:58.539 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-08-27 18:57:58.542 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 14.3706ms
[2025-08-27 18:57:58.543 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 18:57:58.545 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 400 null application/problem+json; charset=utf-8 64.5226ms
[2025-08-27 18:59:03.374 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 16
[2025-08-27 18:59:03.377 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 18:59:03.381 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 18:59:03.381 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 18:59:03.384 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-08-27 18:59:03.386 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 2.8705ms
[2025-08-27 18:59:03.387 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 18:59:03.388 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 400 null application/problem+json; charset=utf-8 15.34ms
[2025-08-27 19:00:33.341 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/login - application/json 47
[2025-08-27 19:00:33.344 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 19:00:33.346 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 19:00:33.441 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 19:00:34.020 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: User test@test.com authenticated successfully
[2025-08-27 19:00:34.438 +00:00 [INF] RdpRelay.Portal.Api.Controllers.AuthController: User 68ae16a34a4bd0ff3c89b03d logged in successfully
[2025-08-27 19:00:34.441 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.LoginResponse'.
[2025-08-27 19:00:34.469 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 1026.75ms
[2025-08-27 19:00:34.474 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 19:00:34.475 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/login - 200 null application/json; charset=utf-8 1133.5859ms
[2025-08-27 19:00:34.601 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - null null
[2025-08-27 19:00:34.603 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:00:34.606 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:00:34.613 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - null null
[2025-08-27 19:00:34.626 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - null null
[2025-08-27 19:00:34.633 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 19:00:34.636 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 19:00:34.718 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:00:34.868 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 260.4673ms
[2025-08-27 19:00:34.879 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:00:34.880 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - 200 null application/json; charset=utf-8 279.0317ms
[2025-08-27 19:00:34.907 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 19:00:34.911 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.User]]] GetUsers(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.UserRole], System.Nullable`1[System.Boolean], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.UsersController (RdpRelay.Portal.Api).
[2025-08-27 19:00:35.108 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.User, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:00:35.135 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api) in 222.9846ms
[2025-08-27 19:00:35.142 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 19:00:35.144 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - 200 null application/json; charset=utf-8 530.3564ms
[2025-08-27 19:00:35.160 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:00:35.300 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 392.69ms
[2025-08-27 19:00:35.301 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 19:00:35.304 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - 200 null application/json; charset=utf-8 678.261ms
[2025-08-27 19:00:39.778 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 19:00:39.782 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:00:39.793 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:00:39.804 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:00:39.806 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 12.0533ms
[2025-08-27 19:00:39.807 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:00:39.809 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 31.1007ms
[2025-08-27 19:00:41.088 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - application/json 16
[2025-08-27 19:00:41.089 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 19:00:41.093 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 19:00:41.106 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GenerateProvisioningToken", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GenerateProvisioningToken(System.String, RdpRelay.Portal.Api.Models.GenerateProvisioningTokenRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:00:41.124 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 19:00:41.134 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api) in 26.9952ms
[2025-08-27 19:00:41.134 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GenerateProvisioningToken (RdpRelay.Portal.Api)'
[2025-08-27 19:00:41.135 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents/provisioning-token - 200 null application/json; charset=utf-8 46.5139ms
[2025-08-27 19:00:47.648 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 18
[2025-08-27 19:00:47.652 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 19:00:47.655 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:00:47.657 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:00:47.660 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-08-27 19:00:47.670 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 11.1478ms
[2025-08-27 19:00:47.671 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:00:47.677 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 400 null application/problem+json; charset=utf-8 28.9322ms
[2025-08-27 19:08:33.951 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 18
[2025-08-27 19:08:34.048 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 19:08:34.100 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:08:34.153 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:08:34.175 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-08-27 19:08:34.181 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 25.79ms
[2025-08-27 19:08:34.183 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:08:34.188 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 400 null application/problem+json; charset=utf-8 237.8813ms
[2025-08-27 19:08:35.400 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 18
[2025-08-27 19:08:35.404 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 19:08:35.419 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:08:35.424 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:08:35.541 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[2025-08-27 19:08:35.549 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 42.2328ms
[2025-08-27 19:08:35.561 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:08:35.563 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 400 null application/problem+json; charset=utf-8 163.4758ms
[2025-08-27 19:08:38.697 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 19:08:38.700 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:08:38.703 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:08:38.938 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:08:38.940 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 235.6052ms
[2025-08-27 19:08:38.944 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:08:38.948 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 248.6362ms
[2025-08-27 19:08:40.949 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - null null
[2025-08-27 19:08:40.949 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - null null
[2025-08-27 19:08:40.951 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:08:40.952 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:08:40.952 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - null null
[2025-08-27 19:08:40.951 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 19:08:40.955 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 19:08:40.956 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 19:08:40.957 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.User]]] GetUsers(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.UserRole], System.Nullable`1[System.Boolean], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.UsersController (RdpRelay.Portal.Api).
[2025-08-27 19:08:40.980 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:08:40.982 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 25.8208ms
[2025-08-27 19:08:40.989 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 19:08:40.991 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - 200 null application/json; charset=utf-8 42.1146ms
[2025-08-27 19:08:41.061 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:08:41.063 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 109.0638ms
[2025-08-27 19:08:41.064 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:08:41.065 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - 200 null application/json; charset=utf-8 115.915ms
[2025-08-27 19:08:41.069 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.User, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:08:41.071 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api) in 113.1077ms
[2025-08-27 19:08:41.073 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 19:08:41.073 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - 200 null application/json; charset=utf-8 120.7989ms
[2025-08-27 19:08:42.661 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 19:08:42.665 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:08:42.668 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:08:42.685 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:08:42.687 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 14.8143ms
[2025-08-27 19:08:42.687 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:08:42.690 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 29.0041ms
[2025-08-27 19:09:02.475 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 41
[2025-08-27 19:09:02.479 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 19:09:02.481 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:09:02.482 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:09:02.608 +00:00 [ERR] RdpRelay.Portal.Api.Controllers.AgentsController: Error creating agent Ahmad for tenant 68ae09d3096d59594289b03d
MongoDB.Bson.BsonSerializationException: An error occurred while serializing the Id property of class RdpRelay.Portal.Api.Models.Agent: '2895e822-a4fc-452b-bbac-d8564041d7fc' is not a valid 24 digit hex string.
 ---> System.FormatException: '2895e822-a4fc-452b-bbac-d8564041d7fc' is not a valid 24 digit hex string.
   at MongoDB.Bson.ObjectId.Parse(String s)
   at MongoDB.Bson.Serialization.Serializers.StringSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, String value)
   at MongoDB.Bson.Serialization.Serializers.SealedClassSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TValue value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeNormalMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeClass(BsonSerializationContext context, BsonSerializationArgs args, TClass document)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TClass value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.Serializers.BsonDocumentWrapperSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, BsonDocumentWrapper value)
   at MongoDB.Bson.Serialization.Serializers.BsonValueSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TBsonValue value)
   at MongoDB.Bson.Serialization.Serializers.BsonValueSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TBsonValue value)
   at MongoDB.Driver.Core.Operations.BulkInsertOperation.InsertRequestSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, InsertRequest value)
   at MongoDB.Bson.Serialization.Serializers.SealedClassSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TValue value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.Type1SectionFormatter.FormatSection(Type1CommandMessageSection section, IBsonWriter writer)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteSection(BsonBinaryWriter writer, CommandMessageSection section, Int64 messageStartPosition)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteSections(BsonBinaryWriter writer, IEnumerable`1 sections, Int64 messageStartPosition)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteMessage(CommandMessage message)
   at MongoDB.Driver.Core.Connections.BinaryConnection.SendMessagesHelper.EncodeMessages(CancellationToken cancellationToken, List`1& sentMessages)
   at MongoDB.Driver.Core.Connections.BinaryConnection.SendMessagesAsync(IEnumerable`1 messages, MessageEncoderSettings messageEncoderSettings, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.PooledConnection.SendMessagesAsync(IEnumerable`1 messages, MessageEncoderSettings messageEncoderSettings, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.SendMessageAndProcessResponseAsync(CommandRequestMessage message, Int32 responseTo, IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.ExecuteAsync(IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.Server.ServerChannel.ExecuteProtocolAsync[TResult](IWireProtocol`1 protocol, ICoreSession session, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.RetryableWriteOperationExecutor.ExecuteAsync[TResult](IRetryableWriteOperation`1 operation, RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchesAsync(RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteAsync(IWriteBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteWriteOperationAsync[TResult](IWriteBinding binding, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteWriteOperationAsync[TResult](IClientSessionHandle session, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.BulkWriteAsync(IClientSessionHandle session, IEnumerable`1 requests, BulkWriteOptions options, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionBase`1.InsertOneAsync(TDocument document, InsertOneOptions options, Func`3 bulkWriteAsync)
   at RdpRelay.Portal.Api.Services.AgentService.CreateAgentAsync(String tenantId, CreateAgentRequest request) in /src/portal-api/RdpRelay.Portal.Api/Services/AgentService.cs:line 38
   at RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent(String tenantId, CreateAgentRequest request) in /src/portal-api/RdpRelay.Portal.Api/Controllers/AgentsController.cs:line 113
[2025-08-27 19:09:02.754 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 19:09:02.780 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 296.4085ms
[2025-08-27 19:09:02.782 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:09:02.785 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 500 null application/json; charset=utf-8 309.2531ms
[2025-08-27 19:29:46.667 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 19:29:51.427 +00:00 [INF] : Starting Portal API
[2025-08-27 19:29:51.858 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 19:29:51.913 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 19:29:52.237 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 19:29:52.455 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 19:29:52.456 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 19:29:52.459 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 19:29:52.460 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 19:29:53.673 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 41
[2025-08-27 19:29:53.824 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 19:29:53.841 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 19:29:54.320 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:29:54.617 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:29:55.660 +00:00 [ERR] RdpRelay.Portal.Api.Controllers.AgentsController: Error creating agent Ahmad for tenant 68ae09d3096d59594289b03d
MongoDB.Bson.BsonSerializationException: An error occurred while serializing the Id property of class RdpRelay.Portal.Api.Models.Agent: '7eb67c59-03d4-4dfa-b341-0221c3d11c32' is not a valid 24 digit hex string.
 ---> System.FormatException: '7eb67c59-03d4-4dfa-b341-0221c3d11c32' is not a valid 24 digit hex string.
   at MongoDB.Bson.ObjectId.Parse(String s)
   at MongoDB.Bson.Serialization.Serializers.StringSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, String value)
   at MongoDB.Bson.Serialization.Serializers.SealedClassSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TValue value)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Serialize(BsonSerializationContext context, BsonSerializationArgs args, Object value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeNormalMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeClass(BsonSerializationContext context, BsonSerializationArgs args, TClass document)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TClass value)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Serialize(BsonSerializationContext context, BsonSerializationArgs args, Object value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.Serializers.BsonDocumentWrapperSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, BsonDocumentWrapper value)
   at MongoDB.Bson.Serialization.Serializers.BsonValueSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TBsonValue value)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Serialize(BsonSerializationContext context, BsonSerializationArgs args, Object value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.Serializers.BsonValueSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TBsonValue value)
   at MongoDB.Driver.Core.Operations.BulkInsertOperation.InsertRequestSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, InsertRequest value)
   at MongoDB.Bson.Serialization.Serializers.SealedClassSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TValue value)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Serialize(BsonSerializationContext context, BsonSerializationArgs args, Object value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.Type1SectionFormatter.FormatSection(Type1CommandMessageSection section, IBsonWriter writer)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteSection(BsonBinaryWriter writer, CommandMessageSection section, Int64 messageStartPosition)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteSections(BsonBinaryWriter writer, IEnumerable`1 sections, Int64 messageStartPosition)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteMessage(CommandMessage message)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandRequestMessageBinaryEncoder.WriteMessage(CommandRequestMessage message)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandRequestMessageBinaryEncoder.MongoDB.Driver.Core.WireProtocol.Messages.Encoders.IMessageEncoder.WriteMessage(MongoDBMessage message)
   at MongoDB.Driver.Core.Connections.BinaryConnection.SendMessagesHelper.EncodeMessages(CancellationToken cancellationToken, List`1& sentMessages)
   at MongoDB.Driver.Core.Connections.BinaryConnection.SendMessagesAsync(IEnumerable`1 messages, MessageEncoderSettings messageEncoderSettings, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.PooledConnection.SendMessagesAsync(IEnumerable`1 messages, MessageEncoderSettings messageEncoderSettings, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.SendMessageAndProcessResponseAsync(CommandRequestMessage message, Int32 responseTo, IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.ExecuteAsync(IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.Server.ServerChannel.ExecuteProtocolAsync[TResult](IWireProtocol`1 protocol, ICoreSession session, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.RetryableWriteOperationExecutor.ExecuteAsync[TResult](IRetryableWriteOperation`1 operation, RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchesAsync(RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteAsync(IWriteBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteWriteOperationAsync[TResult](IWriteBinding binding, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteWriteOperationAsync[TResult](IClientSessionHandle session, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.BulkWriteAsync(IClientSessionHandle session, IEnumerable`1 requests, BulkWriteOptions options, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionBase`1.InsertOneAsync(TDocument document, InsertOneOptions options, Func`3 bulkWriteAsync)
   at RdpRelay.Portal.Api.Services.AgentService.CreateAgentAsync(String tenantId, CreateAgentRequest request) in /src/portal-api/RdpRelay.Portal.Api/Services/AgentService.cs:line 38
   at RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent(String tenantId, CreateAgentRequest request) in /src/portal-api/RdpRelay.Portal.Api/Controllers/AgentsController.cs:line 113
[2025-08-27 19:29:55.705 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 19:29:55.740 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 1113.9571ms
[2025-08-27 19:29:55.791 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:29:55.798 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 500 null application/json; charset=utf-8 2134.4848ms
[2025-08-27 19:29:58.110 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 19:29:58.146 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:29:58.178 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:29:58.316 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:29:58.374 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 193.6292ms
[2025-08-27 19:29:58.375 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:29:58.376 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 275.6034ms
[2025-08-27 19:30:15.208 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 44
[2025-08-27 19:30:15.212 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 19:30:15.227 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:30:15.228 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:30:15.248 +00:00 [ERR] RdpRelay.Portal.Api.Controllers.AgentsController: Error creating agent Ahmad for tenant 68ae09d3096d59594289b03d
MongoDB.Bson.BsonSerializationException: An error occurred while serializing the Id property of class RdpRelay.Portal.Api.Models.Agent: '6eb9dbb1-a8a5-4070-83d2-c4b107dc9335' is not a valid 24 digit hex string.
 ---> System.FormatException: '6eb9dbb1-a8a5-4070-83d2-c4b107dc9335' is not a valid 24 digit hex string.
   at MongoDB.Bson.ObjectId.Parse(String s)
   at MongoDB.Bson.Serialization.Serializers.StringSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, String value)
   at MongoDB.Bson.Serialization.Serializers.SealedClassSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TValue value)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Serialize(BsonSerializationContext context, BsonSerializationArgs args, Object value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeNormalMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeClass(BsonSerializationContext context, BsonSerializationArgs args, TClass document)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TClass value)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Serialize(BsonSerializationContext context, BsonSerializationArgs args, Object value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.Serializers.BsonDocumentWrapperSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, BsonDocumentWrapper value)
   at MongoDB.Bson.Serialization.Serializers.BsonValueSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TBsonValue value)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Serialize(BsonSerializationContext context, BsonSerializationArgs args, Object value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.Serializers.BsonValueSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TBsonValue value)
   at MongoDB.Driver.Core.Operations.BulkInsertOperation.InsertRequestSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, InsertRequest value)
   at MongoDB.Bson.Serialization.Serializers.SealedClassSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TValue value)
   at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Serialize(BsonSerializationContext context, BsonSerializationArgs args, Object value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.Type1SectionFormatter.FormatSection(Type1CommandMessageSection section, IBsonWriter writer)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteSection(BsonBinaryWriter writer, CommandMessageSection section, Int64 messageStartPosition)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteSections(BsonBinaryWriter writer, IEnumerable`1 sections, Int64 messageStartPosition)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteMessage(CommandMessage message)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandRequestMessageBinaryEncoder.WriteMessage(CommandRequestMessage message)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandRequestMessageBinaryEncoder.MongoDB.Driver.Core.WireProtocol.Messages.Encoders.IMessageEncoder.WriteMessage(MongoDBMessage message)
   at MongoDB.Driver.Core.Connections.BinaryConnection.SendMessagesHelper.EncodeMessages(CancellationToken cancellationToken, List`1& sentMessages)
   at MongoDB.Driver.Core.Connections.BinaryConnection.SendMessagesAsync(IEnumerable`1 messages, MessageEncoderSettings messageEncoderSettings, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.PooledConnection.SendMessagesAsync(IEnumerable`1 messages, MessageEncoderSettings messageEncoderSettings, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.SendMessageAndProcessResponseAsync(CommandRequestMessage message, Int32 responseTo, IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.ExecuteAsync(IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.Server.ServerChannel.ExecuteProtocolAsync[TResult](IWireProtocol`1 protocol, ICoreSession session, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.RetryableWriteOperationExecutor.ExecuteAsync[TResult](IRetryableWriteOperation`1 operation, RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchesAsync(RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteAsync(IWriteBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteWriteOperationAsync[TResult](IWriteBinding binding, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteWriteOperationAsync[TResult](IClientSessionHandle session, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.BulkWriteAsync(IClientSessionHandle session, IEnumerable`1 requests, BulkWriteOptions options, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionBase`1.InsertOneAsync(TDocument document, InsertOneOptions options, Func`3 bulkWriteAsync)
   at RdpRelay.Portal.Api.Services.AgentService.CreateAgentAsync(String tenantId, CreateAgentRequest request) in /src/portal-api/RdpRelay.Portal.Api/Services/AgentService.cs:line 38
   at RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent(String tenantId, CreateAgentRequest request) in /src/portal-api/RdpRelay.Portal.Api/Controllers/AgentsController.cs:line 113
[2025-08-27 19:30:15.264 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 19:30:15.266 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 37.1903ms
[2025-08-27 19:30:15.267 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:30:15.269 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 500 null application/json; charset=utf-8 60.4768ms
[2025-08-27 19:30:46.100 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 19:30:46.103 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:30:46.104 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:30:46.114 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:30:46.115 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 10.7502ms
[2025-08-27 19:30:46.118 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:30:46.119 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 19.5903ms
[2025-08-27 19:31:19.270 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 66
[2025-08-27 19:31:19.273 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 19:31:19.276 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:31:19.278 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:31:19.315 +00:00 [ERR] RdpRelay.Portal.Api.Controllers.AgentsController: Error creating agent Ahmad for tenant 68ae09d3096d59594289b03d
MongoDB.Bson.BsonSerializationException: An error occurred while serializing the Id property of class RdpRelay.Portal.Api.Models.Agent: '21566af3-e10e-4b5f-8578-44e01eb79c25' is not a valid 24 digit hex string.
 ---> System.FormatException: '21566af3-e10e-4b5f-8578-44e01eb79c25' is not a valid 24 digit hex string.
   at MongoDB.Bson.ObjectId.Parse(String s)
   at MongoDB.Bson.Serialization.Serializers.StringSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, String value)
   at MongoDB.Bson.Serialization.Serializers.SealedClassSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TValue value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeNormalMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeClass(BsonSerializationContext context, BsonSerializationArgs args, TClass document)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TClass value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.Serializers.BsonDocumentWrapperSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, BsonDocumentWrapper value)
   at MongoDB.Bson.Serialization.Serializers.BsonValueSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TBsonValue value)
   at MongoDB.Bson.Serialization.Serializers.BsonValueSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TBsonValue value)
   at MongoDB.Driver.Core.Operations.BulkInsertOperation.InsertRequestSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, InsertRequest value)
   at MongoDB.Bson.Serialization.Serializers.SealedClassSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TValue value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.Type1SectionFormatter.FormatSection(Type1CommandMessageSection section, IBsonWriter writer)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteSection(BsonBinaryWriter writer, CommandMessageSection section, Int64 messageStartPosition)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteSections(BsonBinaryWriter writer, IEnumerable`1 sections, Int64 messageStartPosition)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteMessage(CommandMessage message)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandRequestMessageBinaryEncoder.WriteMessage(CommandRequestMessage message)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandRequestMessageBinaryEncoder.MongoDB.Driver.Core.WireProtocol.Messages.Encoders.IMessageEncoder.WriteMessage(MongoDBMessage message)
   at MongoDB.Driver.Core.Connections.BinaryConnection.SendMessagesHelper.EncodeMessages(CancellationToken cancellationToken, List`1& sentMessages)
   at MongoDB.Driver.Core.Connections.BinaryConnection.SendMessagesAsync(IEnumerable`1 messages, MessageEncoderSettings messageEncoderSettings, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.PooledConnection.SendMessagesAsync(IEnumerable`1 messages, MessageEncoderSettings messageEncoderSettings, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.SendMessageAndProcessResponseAsync(CommandRequestMessage message, Int32 responseTo, IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.ExecuteAsync(IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.Server.ServerChannel.ExecuteProtocolAsync[TResult](IWireProtocol`1 protocol, ICoreSession session, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.RetryableWriteOperationExecutor.ExecuteAsync[TResult](IRetryableWriteOperation`1 operation, RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchesAsync(RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteAsync(IWriteBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteWriteOperationAsync[TResult](IWriteBinding binding, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteWriteOperationAsync[TResult](IClientSessionHandle session, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.BulkWriteAsync(IClientSessionHandle session, IEnumerable`1 requests, BulkWriteOptions options, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionBase`1.InsertOneAsync(TDocument document, InsertOneOptions options, Func`3 bulkWriteAsync)
   at RdpRelay.Portal.Api.Services.AgentService.CreateAgentAsync(String tenantId, CreateAgentRequest request) in /src/portal-api/RdpRelay.Portal.Api/Services/AgentService.cs:line 38
   at RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent(String tenantId, CreateAgentRequest request) in /src/portal-api/RdpRelay.Portal.Api/Controllers/AgentsController.cs:line 113
[2025-08-27 19:31:19.322 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 19:31:19.324 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 42.5595ms
[2025-08-27 19:31:19.325 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:31:19.326 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 500 null application/json; charset=utf-8 55.5192ms
[2025-08-27 19:32:37.102 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 72
[2025-08-27 19:32:37.113 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 19:32:37.120 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:32:37.123 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:32:37.149 +00:00 [ERR] RdpRelay.Portal.Api.Controllers.AgentsController: Error creating agent Ahmad for tenant 68ae09d3096d59594289b03d
MongoDB.Bson.BsonSerializationException: An error occurred while serializing the Id property of class RdpRelay.Portal.Api.Models.Agent: 'fa280a9f-0fa5-49cb-affe-71d6c63c8060' is not a valid 24 digit hex string.
 ---> System.FormatException: 'fa280a9f-0fa5-49cb-affe-71d6c63c8060' is not a valid 24 digit hex string.
   at MongoDB.Bson.ObjectId.Parse(String s)
   at MongoDB.Bson.Serialization.Serializers.StringSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, String value)
   at MongoDB.Bson.Serialization.Serializers.SealedClassSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TValue value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeNormalMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeClass(BsonSerializationContext context, BsonSerializationArgs args, TClass document)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TClass value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.Serializers.BsonDocumentWrapperSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, BsonDocumentWrapper value)
   at MongoDB.Bson.Serialization.Serializers.BsonValueSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TBsonValue value)
   at MongoDB.Bson.Serialization.Serializers.BsonValueSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TBsonValue value)
   at MongoDB.Driver.Core.Operations.BulkInsertOperation.InsertRequestSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, InsertRequest value)
   at MongoDB.Bson.Serialization.Serializers.SealedClassSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TValue value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.Type1SectionFormatter.FormatSection(Type1CommandMessageSection section, IBsonWriter writer)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteSection(BsonBinaryWriter writer, CommandMessageSection section, Int64 messageStartPosition)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteSections(BsonBinaryWriter writer, IEnumerable`1 sections, Int64 messageStartPosition)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteMessage(CommandMessage message)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandRequestMessageBinaryEncoder.WriteMessage(CommandRequestMessage message)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandRequestMessageBinaryEncoder.MongoDB.Driver.Core.WireProtocol.Messages.Encoders.IMessageEncoder.WriteMessage(MongoDBMessage message)
   at MongoDB.Driver.Core.Connections.BinaryConnection.SendMessagesHelper.EncodeMessages(CancellationToken cancellationToken, List`1& sentMessages)
   at MongoDB.Driver.Core.Connections.BinaryConnection.SendMessagesAsync(IEnumerable`1 messages, MessageEncoderSettings messageEncoderSettings, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.PooledConnection.SendMessagesAsync(IEnumerable`1 messages, MessageEncoderSettings messageEncoderSettings, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.SendMessageAndProcessResponseAsync(CommandRequestMessage message, Int32 responseTo, IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.ExecuteAsync(IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.Server.ServerChannel.ExecuteProtocolAsync[TResult](IWireProtocol`1 protocol, ICoreSession session, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.RetryableWriteOperationExecutor.ExecuteAsync[TResult](IRetryableWriteOperation`1 operation, RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchesAsync(RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteAsync(IWriteBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteWriteOperationAsync[TResult](IWriteBinding binding, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteWriteOperationAsync[TResult](IClientSessionHandle session, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.BulkWriteAsync(IClientSessionHandle session, IEnumerable`1 requests, BulkWriteOptions options, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionBase`1.InsertOneAsync(TDocument document, InsertOneOptions options, Func`3 bulkWriteAsync)
   at RdpRelay.Portal.Api.Services.AgentService.CreateAgentAsync(String tenantId, CreateAgentRequest request) in /src/portal-api/RdpRelay.Portal.Api/Services/AgentService.cs:line 38
   at RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent(String tenantId, CreateAgentRequest request) in /src/portal-api/RdpRelay.Portal.Api/Controllers/AgentsController.cs:line 113
[2025-08-27 19:32:37.160 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 19:32:37.163 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 38.7216ms
[2025-08-27 19:32:37.164 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:32:37.165 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 500 null application/json; charset=utf-8 63.4619ms
[2025-08-27 19:33:06.861 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 69
[2025-08-27 19:33:06.865 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 19:33:06.873 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:33:06.875 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:33:06.890 +00:00 [ERR] RdpRelay.Portal.Api.Controllers.AgentsController: Error creating agent John for tenant 68ae09d3096d59594289b03d
MongoDB.Bson.BsonSerializationException: An error occurred while serializing the Id property of class RdpRelay.Portal.Api.Models.Agent: 'ab59d2b1-157b-49ae-b19a-c91cd33e04a0' is not a valid 24 digit hex string.
 ---> System.FormatException: 'ab59d2b1-157b-49ae-b19a-c91cd33e04a0' is not a valid 24 digit hex string.
   at MongoDB.Bson.ObjectId.Parse(String s)
   at MongoDB.Bson.Serialization.Serializers.StringSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, String value)
   at MongoDB.Bson.Serialization.Serializers.SealedClassSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TValue value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeNormalMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   --- End of inner exception stack trace ---
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeMember(BsonSerializationContext context, Object obj, BsonMemberMap memberMap)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.SerializeClass(BsonSerializationContext context, BsonSerializationArgs args, TClass document)
   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TClass value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Bson.Serialization.Serializers.BsonDocumentWrapperSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, BsonDocumentWrapper value)
   at MongoDB.Bson.Serialization.Serializers.BsonValueSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TBsonValue value)
   at MongoDB.Bson.Serialization.Serializers.BsonValueSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TBsonValue value)
   at MongoDB.Driver.Core.Operations.BulkInsertOperation.InsertRequestSerializer.SerializeValue(BsonSerializationContext context, BsonSerializationArgs args, InsertRequest value)
   at MongoDB.Bson.Serialization.Serializers.SealedClassSerializerBase`1.Serialize(BsonSerializationContext context, BsonSerializationArgs args, TValue value)
   at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Serialize(IBsonSerializer serializer, BsonSerializationContext context, Object value)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.Type1SectionFormatter.FormatSection(Type1CommandMessageSection section, IBsonWriter writer)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteSection(BsonBinaryWriter writer, CommandMessageSection section, Int64 messageStartPosition)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteSections(BsonBinaryWriter writer, IEnumerable`1 sections, Int64 messageStartPosition)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandMessageBinaryEncoder.WriteMessage(CommandMessage message)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandRequestMessageBinaryEncoder.WriteMessage(CommandRequestMessage message)
   at MongoDB.Driver.Core.WireProtocol.Messages.Encoders.BinaryEncoders.CommandRequestMessageBinaryEncoder.MongoDB.Driver.Core.WireProtocol.Messages.Encoders.IMessageEncoder.WriteMessage(MongoDBMessage message)
   at MongoDB.Driver.Core.Connections.BinaryConnection.SendMessagesHelper.EncodeMessages(CancellationToken cancellationToken, List`1& sentMessages)
   at MongoDB.Driver.Core.Connections.BinaryConnection.SendMessagesAsync(IEnumerable`1 messages, MessageEncoderSettings messageEncoderSettings, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.ConnectionPools.ExclusiveConnectionPool.PooledConnection.SendMessagesAsync(IEnumerable`1 messages, MessageEncoderSettings messageEncoderSettings, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.SendMessageAndProcessResponseAsync(CommandRequestMessage message, Int32 responseTo, IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.WireProtocol.CommandUsingCommandMessageWireProtocol`1.ExecuteAsync(IConnection connection, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.Server.ServerChannel.ExecuteProtocolAsync[TResult](IWireProtocol`1 protocol, ICoreSession session, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.RetryableWriteOperationExecutor.ExecuteAsync[TResult](IRetryableWriteOperation`1 operation, RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkUnmixedWriteOperationBase`1.ExecuteBatchesAsync(RetryableWriteContext context, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteBatchAsync(RetryableWriteContext context, Batch batch, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Operations.BulkMixedWriteOperation.ExecuteAsync(IWriteBinding binding, CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.ExecuteWriteOperationAsync[TResult](IWriteBinding binding, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.ExecuteWriteOperationAsync[TResult](IClientSessionHandle session, IWriteOperation`1 operation, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.BulkWriteAsync(IClientSessionHandle session, IEnumerable`1 requests, BulkWriteOptions options, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSessionAsync[TResult](Func`2 funcAsync, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionBase`1.InsertOneAsync(TDocument document, InsertOneOptions options, Func`3 bulkWriteAsync)
   at RdpRelay.Portal.Api.Services.AgentService.CreateAgentAsync(String tenantId, CreateAgentRequest request) in /src/portal-api/RdpRelay.Portal.Api/Services/AgentService.cs:line 38
   at RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent(String tenantId, CreateAgentRequest request) in /src/portal-api/RdpRelay.Portal.Api/Controllers/AgentsController.cs:line 113
[2025-08-27 19:33:06.900 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 19:33:06.901 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 25.1783ms
[2025-08-27 19:33:06.912 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:33:06.913 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 500 null application/json; charset=utf-8 52.803ms
[2025-08-27 19:34:26.481 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 19:34:26.480 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 19:34:26.488 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:34:26.492 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:34:26.496 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 19:34:26.520 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:34:26.523 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 30.0855ms
[2025-08-27 19:34:26.525 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:34:26.530 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 45.736ms
[2025-08-27 19:34:26.554 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 19:34:26.610 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:34:26.644 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 89.0377ms
[2025-08-27 19:34:26.645 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 19:34:26.646 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 165.6713ms
[2025-08-27 19:42:55.108 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 19:42:59.440 +00:00 [INF] : Starting Portal API
[2025-08-27 19:42:59.537 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 19:42:59.543 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 19:42:59.568 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Creating key {dd377059-a812-4046-b3f0-419745837cb1} with creation date 2025-08-27 19:42:59Z, activation date 2025-08-27 19:42:59Z, and expiration date 2025-11-25 19:42:59Z.
[2025-08-27 19:42:59.581 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: No XML encryptor configured. Key {dd377059-a812-4046-b3f0-419745837cb1} may be persisted to storage in unencrypted form.
[2025-08-27 19:42:59.587 +00:00 [INF] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Writing data to file '/home/appuser/.aspnet/DataProtection-Keys/key-dd377059-a812-4046-b3f0-419745837cb1.xml'.
[2025-08-27 19:42:59.625 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 19:42:59.693 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 19:42:59.695 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 19:42:59.696 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 19:42:59.696 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 19:43:33.724 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 19:43:33.723 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 19:43:33.813 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 19:43:34.175 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 19:43:34.176 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:43:34.256 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 19:43:34.256 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:43:34.799 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:43:34.799 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:43:35.078 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 812.3597ms
[2025-08-27 19:43:35.081 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 821.7928ms
[2025-08-27 19:43:35.109 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:43:35.109 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 19:43:35.123 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 1404.7176ms
[2025-08-27 19:43:35.123 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 1403.3529ms
[2025-08-27 19:43:35.304 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 19:43:35.335 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:43:35.338 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:43:35.361 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:43:35.368 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 29.2894ms
[2025-08-27 19:43:35.370 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:43:35.374 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 66.5314ms
[2025-08-27 19:43:55.340 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - application/json 56
[2025-08-27 19:43:55.348 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 19:43:55.358 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:43:55.374 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.Agent]] CreateAgent(System.String, RdpRelay.Portal.Api.Models.CreateAgentRequest) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:43:55.590 +00:00 [INF] RdpRelay.Portal.Api.Services.AgentService: Created agent 68af5ffb9964f9f2e443edb6 (Ahmad's Computer) for tenant 68ae09d3096d59594289b03d
[2025-08-27 19:43:55.595 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing CreatedAtActionResult, writing value of type 'RdpRelay.Portal.Api.Models.Agent'.
[2025-08-27 19:43:55.650 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api) in 275.2312ms
[2025-08-27 19:43:55.651 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.CreateAgent (RdpRelay.Portal.Api)'
[2025-08-27 19:43:55.652 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/tenants/68ae09d3096d59594289b03d/agents - 201 null application/json; charset=utf-8 313.0329ms
[2025-08-27 19:43:55.666 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 19:43:55.671 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:43:55.673 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:43:55.727 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:43:55.731 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 48.9783ms
[2025-08-27 19:43:55.732 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:43:55.735 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 68.5197ms
[2025-08-27 19:44:53.587 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 19:44:53.587 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 19:44:53.612 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:44:53.612 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 19:44:53.615 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 19:44:53.615 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 19:44:53.637 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:44:53.638 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 19:44:53.643 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 27.6862ms
[2025-08-27 19:44:53.643 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 26.9731ms
[2025-08-27 19:44:53.644 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 19:44:53.645 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 19:44:53.646 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 59.6027ms
[2025-08-27 19:44:53.647 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 60.3061ms
[2025-08-27 20:15:23.548 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/login - application/json 54
[2025-08-27 20:15:23.639 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 20:15:23.673 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 20:15:23.776 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 20:15:24.586 +00:00 [WRN] RdpRelay.Portal.Api.Controllers.AuthController: Failed login attempt for admin@rdprelay.local from ::ffff:172.18.0.7
[2025-08-27 20:15:24.593 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-27 20:15:24.621 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 841.959ms
[2025-08-27 20:15:24.622 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 20:15:24.626 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/login - 401 null application/json; charset=utf-8 1093.3853ms
[2025-08-27 20:15:32.645 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/login - application/json 47
[2025-08-27 20:15:32.649 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 20:15:32.656 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 20:15:32.662 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 20:15:32.987 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: User test@test.com authenticated successfully
[2025-08-27 20:15:33.132 +00:00 [INF] RdpRelay.Portal.Api.Controllers.AuthController: User 68ae16a34a4bd0ff3c89b03d logged in successfully
[2025-08-27 20:15:33.134 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.LoginResponse'.
[2025-08-27 20:15:33.166 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 502.5259ms
[2025-08-27 20:15:33.167 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 20:15:33.170 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/login - 200 null application/json; charset=utf-8 522.0503ms
[2025-08-27 20:15:33.293 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - null null
[2025-08-27 20:15:33.309 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - null null
[2025-08-27 20:15:33.309 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - null null
[2025-08-27 20:15:33.314 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:15:33.316 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 20:15:33.316 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 20:15:33.317 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 20:15:33.321 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 20:15:33.342 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:15:33.348 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 25.3482ms
[2025-08-27 20:15:33.352 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:15:33.349 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.User]]] GetUsers(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.UserRole], System.Nullable`1[System.Boolean], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.UsersController (RdpRelay.Portal.Api).
[2025-08-27 20:15:33.355 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - 200 null application/json; charset=utf-8 61.7936ms
[2025-08-27 20:15:33.401 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.User, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:15:33.414 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:15:33.421 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api) in 61.6855ms
[2025-08-27 20:15:33.424 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 97.3415ms
[2025-08-27 20:15:33.425 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 20:15:33.424 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 20:15:33.427 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - 200 null application/json; charset=utf-8 117.4621ms
[2025-08-27 20:15:33.427 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - 200 null application/json; charset=utf-8 118.0119ms
[2025-08-27 20:15:36.677 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 20:15:36.680 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:15:36.681 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 20:15:36.702 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:15:36.709 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 27.8336ms
[2025-08-27 20:15:36.711 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:15:36.712 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 34.9749ms
[2025-08-27 20:21:12.085 +00:00 [INF] Microsoft.Hosting.Lifetime: Application is shutting down...
[2025-08-27 20:21:32.379 +00:00 [INF] : Starting Portal API
[2025-08-27 20:21:32.553 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Storing keys in a directory '/home/appuser/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
[2025-08-27 20:21:32.561 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/home/appuser/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2025-08-27 20:21:32.597 +00:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Creating key {2826c5ed-c1f4-4770-ac42-c1aa00f10daf} with creation date 2025-08-27 20:21:32Z, activation date 2025-08-27 20:21:32Z, and expiration date 2025-11-25 20:21:32Z.
[2025-08-27 20:21:32.615 +00:00 [WRN] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: No XML encryptor configured. Key {2826c5ed-c1f4-4770-ac42-c1aa00f10daf} may be persisted to storage in unencrypted form.
[2025-08-27 20:21:32.634 +00:00 [INF] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Writing data to file '/home/appuser/.aspnet/DataProtection-Keys/key-2826c5ed-c1f4-4770-ac42-c1aa00f10daf.xml'.
[2025-08-27 20:21:32.665 +00:00 [WRN] Microsoft.AspNetCore.Hosting.Diagnostics: Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://+:8080'.
[2025-08-27 20:21:32.797 +00:00 [INF] Microsoft.Hosting.Lifetime: Now listening on: http://[::]:8080
[2025-08-27 20:21:32.799 +00:00 [INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-08-27 20:21:32.800 +00:00 [INF] Microsoft.Hosting.Lifetime: Hosting environment: Production
[2025-08-27 20:21:32.801 +00:00 [INF] Microsoft.Hosting.Lifetime: Content root path: /app
[2025-08-27 20:25:02.036 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/health - null null
[2025-08-27 20:25:02.123 +00:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-08-27 20:25:02.252 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/health - 404 0 null 282.2737ms
[2025-08-27 20:25:02.295 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/health, Response status code: 404
[2025-08-27 20:25:26.137 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 POST http://localhost/api/auth/login - application/json 47
[2025-08-27 20:25:26.191 +00:00 [INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-08-27 20:25:26.218 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 20:25:26.350 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.LoginResponse]] Login(RdpRelay.Portal.Api.Models.LoginRequest) on controller RdpRelay.Portal.Api.Controllers.AuthController (RdpRelay.Portal.Api).
[2025-08-27 20:25:27.494 +00:00 [INF] RdpRelay.Portal.Api.Services.UserService: User test@test.com authenticated successfully
[2025-08-27 20:25:27.741 +00:00 [INF] RdpRelay.Portal.Api.Controllers.AuthController: User 68ae16a34a4bd0ff3c89b03d logged in successfully
[2025-08-27 20:25:27.755 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.LoginResponse'.
[2025-08-27 20:25:27.818 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api) in 1452.3567ms
[2025-08-27 20:25:27.824 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AuthController.Login (RdpRelay.Portal.Api)'
[2025-08-27 20:25:27.833 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 POST http://localhost/api/auth/login - 200 null application/json; charset=utf-8 1698.1544ms
[2025-08-27 20:25:27.997 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - null null
[2025-08-27 20:25:28.008 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - null null
[2025-08-27 20:25:28.009 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - null null
[2025-08-27 20:25:28.142 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:25:28.143 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 20:25:28.143 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 20:25:28.175 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 20:25:28.181 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.User]]] GetUsers(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.UserRole], System.Nullable`1[System.Boolean], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.UsersController (RdpRelay.Portal.Api).
[2025-08-27 20:25:28.181 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 20:25:28.356 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.User, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:25:28.417 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api) in 234.8107ms
[2025-08-27 20:25:28.420 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 20:25:28.422 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - 200 null application/json; charset=utf-8 412.6106ms
[2025-08-27 20:25:28.520 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:25:28.549 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 372.0396ms
[2025-08-27 20:25:28.549 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:25:28.550 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 20:25:28.552 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - 200 null application/json; charset=utf-8 543.7263ms
[2025-08-27 20:25:28.579 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 394.4458ms
[2025-08-27 20:25:28.580 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:25:28.581 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - 200 null application/json; charset=utf-8 583.9938ms
[2025-08-27 20:25:31.554 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 20:25:31.583 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:25:31.584 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 20:25:31.595 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:25:31.596 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 11.5802ms
[2025-08-27 20:25:31.597 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:25:31.598 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 43.3061ms
[2025-08-27 20:28:30.011 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/health - null null
[2025-08-27 20:28:30.021 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/health - 404 0 null 10.086ms
[2025-08-27 20:28:30.022 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/health, Response status code: 404
[2025-08-27 20:28:31.221 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - null null
[2025-08-27 20:28:31.231 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - null null
[2025-08-27 20:28:31.231 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:28:31.232 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - null null
[2025-08-27 20:28:31.232 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 20:28:31.234 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 20:28:31.238 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 20:28:31.235 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 20:28:31.240 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.User]]] GetUsers(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.UserRole], System.Nullable`1[System.Boolean], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.UsersController (RdpRelay.Portal.Api).
[2025-08-27 20:28:31.268 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:28:31.269 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:28:31.272 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.User, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:28:31.275 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 35.9709ms
[2025-08-27 20:28:31.277 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 36.748ms
[2025-08-27 20:28:31.278 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:28:31.279 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 20:28:31.279 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api) in 37.6715ms
[2025-08-27 20:28:31.280 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - 200 null application/json; charset=utf-8 59.0672ms
[2025-08-27 20:28:31.281 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - 200 null application/json; charset=utf-8 50.5974ms
[2025-08-27 20:28:31.283 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 20:28:31.286 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - 200 null application/json; charset=utf-8 53.483ms
[2025-08-27 20:28:40.942 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 20:28:40.942 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - null null
[2025-08-27 20:28:40.944 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:28:40.944 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 20:28:40.945 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 20:28:40.946 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 20:28:40.964 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:28:40.968 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:28:40.970 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 18.1012ms
[2025-08-27 20:28:40.971 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 22.7203ms
[2025-08-27 20:28:40.972 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 20:28:40.973 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:28:40.977 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=100 - 200 null application/json; charset=utf-8 32.8555ms
[2025-08-27 20:28:40.977 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 34.6474ms
[2025-08-27 20:28:43.235 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - null null
[2025-08-27 20:28:43.250 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:28:43.269 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 20:28:43.276 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:28:43.290 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 19.5324ms
[2025-08-27 20:28:43.290 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:28:43.291 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=100 - 200 null application/json; charset=utf-8 55.8781ms
[2025-08-27 20:28:54.685 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/health - null null
[2025-08-27 20:28:54.687 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/health - 404 0 null 1.6523ms
[2025-08-27 20:28:54.688 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/api/health, Response status code: 404
[2025-08-27 20:28:55.661 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - null null
[2025-08-27 20:28:55.662 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - null null
[2025-08-27 20:28:55.663 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:28:55.664 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Agent]]] GetAgents(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.AgentStatus], System.String, Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.AgentsController (RdpRelay.Portal.Api).
[2025-08-27 20:28:55.664 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 20:28:55.666 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetSessions", controller = "Sessions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.Session]]] GetSessions(System.String, System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.SessionStatus], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.SessionsController (RdpRelay.Portal.Api).
[2025-08-27 20:28:55.669 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - null null
[2025-08-27 20:28:55.670 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 20:28:55.671 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RdpRelay.Portal.Api.Models.PagedResponse`1[RdpRelay.Portal.Api.Models.User]]] GetUsers(System.String, System.String, System.Nullable`1[RdpRelay.Portal.Api.Models.UserRole], System.Nullable`1[System.Boolean], Int32, Int32) on controller RdpRelay.Portal.Api.Controllers.UsersController (RdpRelay.Portal.Api).
[2025-08-27 20:28:55.675 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Agent, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:28:55.676 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.Session, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:28:55.676 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api) in 10.7044ms
[2025-08-27 20:28:55.677 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api) in 10.0417ms
[2025-08-27 20:28:55.679 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.AgentsController.GetAgents (RdpRelay.Portal.Api)'
[2025-08-27 20:28:55.681 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/agents?skip=0&limit=10 - 200 null application/json; charset=utf-8 19.9523ms
[2025-08-27 20:28:55.680 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'RdpRelay.Portal.Api.Models.PagedResponse`1[[RdpRelay.Portal.Api.Models.User, RdpRelay.Portal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-27 20:28:55.680 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.SessionsController.GetSessions (RdpRelay.Portal.Api)'
[2025-08-27 20:28:55.683 +00:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api) in 10.5225ms
[2025-08-27 20:28:55.685 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/sessions?skip=0&limit=10 - 200 null application/json; charset=utf-8 22.2935ms
[2025-08-27 20:28:55.685 +00:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'RdpRelay.Portal.Api.Controllers.UsersController.GetUsers (RdpRelay.Portal.Api)'
[2025-08-27 20:28:55.687 +00:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.0 GET http://localhost/api/tenants/68ae09d3096d59594289b03d/users?skip=0&limit=10 - 200 null application/json; charset=utf-8 17.8141ms
